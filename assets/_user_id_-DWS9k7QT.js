import{_ as e}from"./VLoader.vue_vue_type_style_index_0_lang-C7-GgvIg.js";import{_ as s}from"./VFlexPagination.vue_vue_type_script_setup_true_lang-Cw9ZBBgT.js";import{_ as a}from"./VTag.vue_vue_type_style_index_0_lang-CfiYdP3K.js";import{_ as i}from"./VCard.vue_vue_type_script_setup_true_lang-DbGsFRYj.js";import{e as t,r as l,t as r,v as n,x as c,m as o,R as d,S as u,z as m,y as v,H as y,I as p,L as h,J as g,j as f,a6 as _,D as k,E as w,Q as P,w as b,o as x,i as $,a1 as D,a2 as j,A as C}from"./index-t9U-pc91.js";import{_ as I}from"./_plugin-vue_export-helper-BCo6x5W8.js";import{_ as R}from"./VModal.vue_vue_type_style_index_0_lang-BltQe-xz.js";import{_ as N}from"./VButton.vue_vue_type_style_index_0_lang-B-ef5zKO.js";import{u as A}from"./useNotyf-CMZ2FBRq.js";import{u as S}from"./defaultResource-C1sSR1bb.js";import{c as B,f as M}from"./common-DgfrY2qF.js";import{_ as T}from"./VPlaceholderPage.vue_vue_type_style_index_0_lang-DK1cPkHB.js";import{_ as J}from"./VAvatar.vue_vue_type_style_index_0_lang-Bxz39T17.js";import{_ as U}from"./VButtons.vue_vue_type_script_setup_true_lang-m0U9ppn7.js";import{_ as V,a as z}from"./search-1-dark-DV4mRi9_.js";import{u as L}from"./viewWrapper-Yjs2_JvI.js";import{D as O}from"./datetime-xmklhC0O.js";import{b as E}from"./route-block-B_A1xBdJ.js";import"./VFlex.vue_vue_type_style_index_0_lang-C5rz8FA7.js";import"./notyf-YfXYPISH.js";import"./useFetch-r6-7WS48.js";const F={class:"is-vehicle_elt"},W={class:"is-images_container"},G=["src","alt"],q={key:0,class:"is-image_list"},H=["src","alt","onClick"],Q={class:"is-vehicle_meta mt-1"},X={class:"is-flex is-justify-content-space-between"},K={class:"has-text-primary is-underlined"},Y=I(t({__name:"CpxCarPreview",props:{vehicle:{default:void 0}},setup(e){const s=l(0);return(e,a)=>(r(),n("div",F,[c("div",W,[c("img",{src:`data:${e.vehicle?.vehiclePicture?.[o(s)]?.fileExtension};base64,${e.vehicle.vehiclePicture?.[o(s)].photo}`,alt:e.vehicle?.vehicleMark,class:"is-vehicle_img"},null,8,G),e.vehicle?.vehiclePicture?.length>1?(r(),n("div",q,[(r(!0),n(d,null,u(e.vehicle?.vehiclePicture,((a,i)=>(r(),n("img",{key:i,src:`data:${a.fileExtension};base64,${a.photo}`,alt:e.vehicle?.vehicleMark,class:"is-sub_image",onClick:e=>s.value=i},null,8,H)))),128))])):m("",!0)]),c("div",Q,[c("h3",null,v(`${e.vehicle?.vehicleMark} - ${e.vehicle?.vehicleType} - ${e.vehicle.numberOfSeets} seats`),1),c("div",X,[c("span",K,v(e.vehicle?.vehiculRegistration),1),c("span",null,v(e.vehicle?.color),1)])])]))}}),[["__scopeId","data-v-e12a505b"]]),Z={class:"is-doc_elt"},ee={class:"is-images_container"},se=["src","alt"],ae={key:0,class:"is-image_list"},ie=["src","alt","onClick"],te={class:"is-doc_meta mt-1"},le={class:"is-flex is-justify-content-space-between"},re={class:"has-text-primary is-underlined"},ne={class:"is-doc_actions"},ce={class:"is-flex gap-4"},oe={class:"is-doc_preview"},de={class:"is-dp_imgs"},ue=["src","alt"],me={class:"is-dp_img_list"},ve=["src","alt","onClick"],ye={class:"is-user_details"},pe=["src","alt"],he={class:"mt-2"},ge={class:"has-text-primary is-underlined"},fe={key:1,class:"is-dp_actions mt-4"},_e={class:"is-flex is-justify-content-flex-end gap-2"},ke=I(t({__name:"CpxDocPreview",props:{doc:{default:void 0},user:{default:void 0}},emits:["close","refresh"],setup(e,{emit:s}){const i=s,t=e,k=S(),w=A(),P=l(0),b=l(!1),x=l(!1),$=async e=>{try{x.value=!0;const s={...t.doc,status:e?"1":"0"};await k.edit("UserDocument/Update",s),w({title:"Success",message:"Document has been successfully updated",type:"success"}),b.value=!1,i("refresh")}catch(s){console.log("error: ",s)}finally{x.value=!1}};return(e,s)=>{const i=a,t=N,l=R;return r(),n("div",Z,[c("div",ee,[c("img",{src:`data:${e.doc?.pictures?.[o(P)]?.fileExtension};base64,${e.doc.pictures?.[o(P)].photo}`,alt:e.doc?.vehicleMark,class:"is-doc_img"},null,8,se),e.doc?.pictures?.length>1?(r(),n("div",ae,[(r(!0),n(d,null,u(e.doc?.pictures,((s,a)=>(r(),n("img",{key:a,src:`data:${s.fileExtension};base64,${s.photo}`,alt:e.doc?.vehicleMark,class:"is-sub_image",onClick:e=>P.value=a},null,8,ie)))),128))])):m("",!0)]),c("div",te,[c("h3",null,v(e.doc.id),1),c("div",le,[c("span",re,v(e.doc.documentType),1),c("span",null,v(o(B)(e.doc.creationDate,!0)),1)])]),c("div",ne,[y(i,{color:"2"===e.doc.status?"solid":"1"===e.doc.status?"success":"danger"},{default:p((()=>[h(v("2"===e.doc.status?"Pending":"1"===e.doc.status?"Approved":"Rejected"),1)])),_:1},8,["color"]),y(t,{color:"info",elevated:"",onClick:s[0]||(s[0]=()=>b.value=!0)},{default:p((()=>[h(" View ")])),_:1})]),(r(),g(_,{to:"body"},[o(b)?(r(),g(l,{key:0,open:o(b),"onUpdate:open":s[3]||(s[3]=e=>f(b)?b.value=e:null),title:"Document Preview",size:"large",nobg:"",noheader:"",noaction:"",onClose:s[4]||(s[4]=()=>b.value=!1)},{content:p((()=>[c("div",ce,[c("div",oe,[c("div",de,[c("img",{src:`data:${e.doc?.pictures?.[o(P)]?.fileExtension};base64,${e.doc.pictures?.[o(P)].photo}`,alt:e.doc?.vehicleMark,class:"is-dp_img"},null,8,ue),c("div",me,[(r(!0),n(d,null,u(e.doc?.pictures,((s,a)=>(r(),n("img",{key:a,src:`data:${s.fileExtension};base64,${s.photo}`,alt:e.doc?.vehicleMark,class:"is-sub_image",onClick:e=>P.value=a},null,8,ve)))),128))])])]),c("div",ye,[e.user?.profilePhoto?(r(),n("img",{key:0,src:`data:${e.user?.profilePhoto?.fileExtension};base64,${e.user?.profilePhoto?.photo}`,alt:`${e.user?.userDetail?.lastName} ${e.user?.userDetail?.firstName}`,class:"is-user_img"},null,8,pe)):m("",!0),c("h3",he,v(`${e.user?.userDetail?.lastName} ${e.user?.userDetail?.firstName}`),1),c("span",null,v(e.user?.email),1),c("span",ge,[c("b",null,v(e.user?.phoneNumber),1)]),"2"===e.doc.status?(r(),n("div",fe,[c("div",_e,[y(t,{color:"danger",size:"medium",icon:"material-symbols-light:thumb-down-outline-rounded",elevated:"",loading:o(x),onClick:s[1]||(s[1]=()=>$(!1))},{default:p((()=>[h(" Reject ")])),_:1},8,["loading"]),y(t,{color:"success",size:"medium",icon:"material-symbols-light:thumb-up-outline-rounded",elevated:"",loading:o(x),onClick:s[2]||(s[2]=()=>$(!0))},{default:p((()=>[h(" Accept ")])),_:1},8,["loading"])])])):(r(),g(i,{key:2,class:"mt-4",size:"tiny",style:{width:"fit-content"},color:"2"===e.doc.status?"solid":"1"===e.doc.status?"success":"danger"},{default:p((()=>[h(v("2"===e.doc.status?"Pending":"1"===e.doc.status?"Approved":"Rejected"),1)])),_:1},8,["color"]))])])])),action:p((()=>[])),_:1},8,["open"])):m("",!0)]))])}}}),[["__scopeId","data-v-3c8b01ec"]]),we=e=>(D("data-v-7d7aa317"),e=e(),j(),e),Pe={class:"list-view-toolbar"},be=we((()=>c("div",null,null,-1))),xe={class:"buttons"},$e={class:"profile-wrapper"},De={class:"profile-header has-text-centered"},je={class:"title is-4 is-narrow is-thin"},Ce={class:"light-text"},Ie={class:"light-text"},Re={class:"light-text mt-4"},Ne={class:"profile-stats"},Ae={class:"profile-stat"},Se=we((()=>c("i",{"aria-hidden":"true","data-icon":"ph:office-chair-thin",class:"iconify"},null,-1))),Be={class:"ml-2"},Me=we((()=>c("div",{class:"separator"},null,-1))),Te={class:"profile-stat"},Je=we((()=>c("i",{"aria-hidden":"true","data-icon":"ph:users-three-thin",class:"iconify"},null,-1))),Ue={class:"ml-2"},Ve=we((()=>c("div",{class:"separator"},null,-1))),ze={class:"profile-stat"},Le=we((()=>c("i",{"aria-hidden":"true","data-icon":"ph:users-three-thin",class:"iconify"},null,-1))),Oe={class:"ml-2"},Ee={class:"profile-body"},Fe={class:"is-flex is-flex-direction-column is-justify-content-center is-align-items-center"},We={class:"is-profile_tabs mb-5"},Ge=["onClick"],qe={key:0,style:{width:"100%"},class:"is-flex is-justify-content-between is-align-items-center mb-5"},He={class:"is-profile_tabs is-justify-content-start"},Qe=["onClick"],Xe={class:"is-profile_tabs"},Ke=["onClick"],Ye={key:1,class:"is-profile_tabs"},Ze=["onClick"],es={class:"is-profile_content"},ss={key:0,class:"is-flex is-justify-content-center p-6"},as=[we((()=>c("div",{class:"is-profile_loader"},null,-1)))],is=we((()=>c("img",{class:"light-image",src:V,alt:""},null,-1))),ts=we((()=>c("img",{class:"dark-image",src:z,alt:""},null,-1))),ls={class:"is-card_container is-grid grid-cols-3 gap-2"},rs={key:0,class:"is-flex is-justify-content-center p-6"},ns=[we((()=>c("div",{class:"is-profile_loader"},null,-1)))],cs=we((()=>c("img",{class:"light-image",src:V,alt:""},null,-1))),os=we((()=>c("img",{class:"dark-image",src:z,alt:""},null,-1))),ds={class:"is-card_container is-grid grid-cols-3 gap-2"},us={key:0,class:"is-flex is-justify-content-center p-6"},ms=[we((()=>c("div",{class:"is-profile_loader"},null,-1)))],vs={key:1,class:"is-card_container"},ys=we((()=>c("img",{class:"light-image",src:V,alt:""},null,-1))),ps=we((()=>c("img",{class:"dark-image",src:z,alt:""},null,-1))),hs={class:"is-card_container is-grid grid-cols-3 gap-2 mb-5"},gs={class:"user-vote"},fs={class:"infos"},_s={class:"title is-5 mb-2"},ks={class:"rating"},ws=["data-icon"],Ps={key:0,class:"is-flex is-justify-content-center p-6"},bs=[we((()=>c("div",{class:"is-profile_loader"},null,-1)))],xs={key:1,class:"is-card_container"},$s=we((()=>c("img",{class:"light-image",src:V,alt:""},null,-1))),Ds=we((()=>c("img",{class:"dark-image",src:z,alt:""},null,-1))),js={key:1,class:"is-list_view"},Cs={class:"is-list_header mt-5"},Is=we((()=>c("div",{class:"is-list_header-item",style:{width:"25%"}}," From ",-1))),Rs=we((()=>c("div",{class:"is-list_header-item",style:{width:"25%"}}," To ",-1))),Ns=we((()=>c("div",{class:"is-list_header-item",style:{width:"15%"}}," Traveling Date ",-1))),As=we((()=>c("div",{class:"is-list_header-item",style:{width:"10%"}}," Seats ",-1))),Ss=we((()=>c("div",{class:"is-list_header-item",style:{width:"10%"}}," PU ",-1))),Bs={key:0,class:"is-list_header-item",style:{width:"15%"}},Ms={class:"is-list_line-item",style:{width:"25%"}},Ts={class:"is-list_line-item",style:{width:"25%"}},Js={class:"is-list_line-item",style:{width:"15%"}},Us={class:"is-list_line-item",style:{width:"10%"}},Vs={class:"is-list_line-item",style:{width:"10%"}},zs={style:{"font-size":"0.95rem"},class:"ml-2"},Ls={key:0,class:"is-list_line-item",style:{width:"15%"}},Os={style:{"font-size":"0.95rem"},class:"ml-2"},Es={key:0,class:"is-flex is-justify-content-center p-6"},Fs=[we((()=>c("div",{class:"is-profile_loader"},null,-1)))],Ws={key:1,class:"is-card_container"},Gs=we((()=>c("img",{class:"light-image",src:V,alt:""},null,-1))),qs=we((()=>c("img",{class:"dark-image",src:z,alt:""},null,-1))),Hs={key:0,class:"is-flex is-justify-content-center p-6"},Qs=[we((()=>c("div",{class:"is-profile_loader"},null,-1)))],Xs={key:1,class:"is-card_container"},Ks=we((()=>c("img",{class:"light-image",src:V,alt:""},null,-1))),Ys=we((()=>c("img",{class:"dark-image",src:z,alt:""},null,-1))),Zs={key:0,class:"is-flex is-justify-content-center p-6"},ea=[we((()=>c("div",{class:"is-profile_loader"},null,-1)))],sa={key:1,class:"is-card_container"},aa=we((()=>c("img",{class:"light-image",src:V,alt:""},null,-1))),ia=we((()=>c("img",{class:"dark-image",src:z,alt:""},null,-1))),ta={class:"is-card_container is-grid grid-cols-3 gap-2"},la={class:"is-pc_head"},ra={class:"is-pch_l"},na={class:"is-pch_r"},ca={class:"has-text-primary"},oa=we((()=>c("span",null,"xx Seats taked",-1))),da={class:"is-pc_body"},ua={class:"is-dest_elt"},ma=we((()=>c("i",{class:"iconify has-text-primary","aria-hidden":"true","data-icon":"solar:map-point-bold-duotone"},null,-1))),va={class:"is-dest_elt"},ya=we((()=>c("i",{class:"iconify has-text-success","aria-hidden":"true","data-icon":"solar:map-point-bold-duotone"},null,-1))),pa=we((()=>c("div",{class:"is-dest_elt_divider"},null,-1))),ha={class:"is-pc_footer"},ga=we((()=>c("i",{class:"iconify","aria-hidden":"true","data-icon":"solar:calendar-broken"},null,-1))),fa={class:"ml-2"},_a={key:0,class:"is-flex is-justify-content-center p-6"},ka=[we((()=>c("div",{class:"is-profile_loader"},null,-1)))],wa={key:1,class:"is-card_container"},Pa=we((()=>c("img",{class:"light-image",src:V,alt:""},null,-1))),ba=we((()=>c("img",{class:"dark-image",src:z,alt:""},null,-1))),xa={class:"is-card_container is-grid grid-cols-3 gap-2"},$a={class:"is-pc_head"},Da={class:"is-pch_l"},ja={class:"is-pch_r"},Ca={class:"has-text-primary"},Ia=we((()=>c("span",null,"xx Seats taked",-1))),Ra={class:"is-pc_body"},Na={class:"is-dest_elt"},Aa=we((()=>c("i",{class:"iconify has-text-primary","aria-hidden":"true","data-icon":"solar:map-point-bold-duotone"},null,-1))),Sa={class:"is-dest_elt"},Ba=we((()=>c("i",{class:"iconify has-text-success","aria-hidden":"true","data-icon":"solar:map-point-bold-duotone"},null,-1))),Ma=we((()=>c("div",{class:"is-dest_elt_divider"},null,-1))),Ta={class:"is-pc_footer"},Ja=we((()=>c("i",{class:"iconify","aria-hidden":"true","data-icon":"solar:calendar-broken"},null,-1))),Ua={class:"ml-2"},Va={key:8,class:"page-content-inner"},za=we((()=>c("img",{class:"light-image",src:V,alt:""},null,-1))),La=we((()=>c("img",{class:"dark-image",src:z,alt:""},null,-1))),Oa={key:1,class:"is-list_view"},Ea=we((()=>c("div",{class:"is-list_header"},[c("div",{class:"is-list_header-item",style:{width:"30%"}}," Beneficiary "),c("div",{class:"is-list_header-item",style:{width:"30%"}}," Address "),c("div",{class:"is-list_header-item",style:{width:"25%"}}," Bank Details "),c("div",{class:"is-list_header-item",style:{width:"15%"}}," Added On ")],-1))),Fa={class:"is-list_line"},Wa={class:"is-list_line-item is-user",style:{width:"30%"}},Ga={class:"is-user_metadata"},qa={class:"has-text-primary is-underlined"},Ha={class:"is-list_line-item",style:{width:"30%"}},Qa={class:"is-list_line-item",style:{width:"25%"}},Xa={class:"is-list_line-item",style:{width:"15%"}},Ka=t({__name:"[user_id]",setup(t){const f=L(),_=S(),D=k(),j=w(),I=["Documents","Vehicles","Reviews","Journeys","Referals","Rewards","Payments","Payout's","Banking"],R=["All","Pending","Completed","Canceled"],A=["Driver","Passenger"],B=["Receive","Send"],V=l(),z=l([]),E=l([]),F=l([]),W=l([]),G=l([]),q=l([]),H=l([]),Q=l([]),X=l([]),K=l(0),Z=l(0),ee=l(0),se=l(!1),ae=l(!1),ie=l(!1),te={Documents:"Do",Vehicles:"Ve",Reviews:"Re",Journeys:"Jo",Referals:"Rf",Rewards:"Rw",Payments:"Pa","Payout's":"Py",Banking:"Ba"},le=l("Documents"),re=l("All"),ne=l("Driver"),ce=l("Receive"),oe=l({page:1,itemsPerPage:9,totalItems:0,totalPages:0}),de=l({page:1,itemsPerPage:9,totalItems:0,totalPages:0}),ue=l({page:1,itemsPerPage:9,totalItems:0,totalPages:0}),me=P((()=>{let e=Q.value.filter((e=>"All"===re.value||("Pending"===re.value?"1"===e.status&&!Ka(e.travelingDate):"Completed"===re.value?"2"===e.status||Ka(e.travelingDate):"Canceled"===re.value?"0"===e.status:void 0)));de.value.totalItems=e.length;const s=(de.value.page-1)*de.value.itemsPerPage,a=s+de.value.itemsPerPage;return e.slice(s,a)})),ve=async()=>{try{ae.value=!0;const e=j.params.user_id,s=await _.list("/DriverJourney/GetAllJourney");s&&(Q.value=s.filter((s=>s.userId===e)),de.value.totalItems=Q.value.length)}catch(e){console.error("An error has occurred: ",e)}finally{ae.value=!1}},ye=async()=>{try{ae.value=!0;const e=j.params.user_id,s=await _.list("/DriverJourney/GetJourneyByPassenger?passengerId="+e);s&&(Q.value=s.journeyList,de.value.totalItems=Q.value.length)}catch(e){console.error("An error has occurred: ",e)}finally{ae.value=!1}},pe=async()=>{try{se.value=!0;const e=`/User/FindUserById?userid=${j.params.user_id}`,s=await _.list(e);s&&(V.value=s)}catch(e){console.error("An error has occurred: ",e)}finally{se.value=!1}},he=async()=>{G.value=[];try{se.value=!0;const e=`/UserReview/ViewNote?userid=${j.params.user_id}`,s=await _.list(e);if(s){const e=[...new Set(s.map((e=>e.userId)).filter((e=>null!=e)))].map((e=>fe(e))),a=await Promise.all(e),i=new Map;a.forEach((e=>{e&&e.id&&i.set(e.id,e)}));const t=s.map((e=>{const s=i.get(e.userId);return{...e,user:s||null}}));G.value=t}}catch(e){console.error("An error has occurred: ",e)}finally{se.value=!1}},ge=async()=>{try{se.value=!0;const e=`/UserReview/ViewSendNote?userid=${j.params.user_id}`,s=await _.list(e);if(s){const e=[...new Set(s.map((e=>e.userToNoteId)).filter((e=>null!=e)))].map((e=>fe(e))),a=await Promise.all(e),i=new Map;a.forEach((e=>{e&&e.id&&i.set(e.id,e)}));const t=s.map((e=>{const s=i.get(e.userToNoteId);return{...e,user:s||null}}));G.value=t}}catch(e){console.error("An error has occurred: ",e)}finally{se.value=!1}},fe=async e=>{try{return await _.listUser(`/User/FindUserById?userid=${e}`)}catch(s){return console.error(`Error fetching user ${e}: `,s),null}},_e=async()=>{try{ae.value=!0;const e=`/UserDocument/GetByUserId?userid=${j.params.user_id}`,s=await _.list(e);s&&(z.value=s)}catch(e){console.error("An error has occurred: ",e)}finally{ae.value=!1}},we=e=>{const s=e?.id?.split("-").at(1).toUpperCase(),a=e?.journeyId?.split("-").at(1).toUpperCase();return`#${s}${a}`},Ka=e=>{const s=O.fromISO(e).plus({hours:6});return O.now()>s},Ya=e=>{de.value.page=e},Za=e=>ie.value&&te[e]?te[e]:e,ei=()=>{window.matchMedia("(max-width: 767px)").matches?ie.value=!0:ie.value=!1};b((()=>j.query.tab),(async e=>{if(e){const s=I.some((s=>s===e));le.value=s?e:"Documents"}else D.replace({query:{tab:I[0]}})}),{immediate:!0}),b((()=>le.value),(async e=>{"Documents"===e?await _e():"Vehicles"===e?await(async()=>{try{ae.value=!0;const e=`/Vehicle/GetAllByUser?id=${j.params.user_id}`,s=await _.list(e);s&&(E.value=s)}catch(e){console.error("An error has occurred: ",e)}finally{ae.value=!1}})():"Journeys"===e?(de.value.page=1,"Driver"===ne.value?await ve():"Passenger"===ne.value&&await ye()):"Reviews"===e?"Receive"===ce.value?await he():"Send"===ce.value&&await ge():"Referals"===e||"Rewards"===e||("Payments"===e?await(async()=>{try{ae.value=!0;const e=`/PassengerPaiement/GetPaiementByPassengerId?passengerid=${j.params.user_id}&pageNumber=${oe.value.page}&pageSize=${oe.value.itemsPerPage}`,{data:s,total:a}=await _.list(e,!0);if(s){const e=await Promise.all(s.map((async e=>{const s=await _.list(`/DriverJourney/FindJourneyById?journeyId=${e.journeyId}`);return{...e,trip:s}})));F.value=e,oe.value.totalItems=a,oe.value.totalPages=Math.ceil(a/oe.value.itemsPerPage)}}catch(e){console.error("An error has occurred: ",e)}finally{ae.value=!1}})():"Payouts"===e?await(async()=>{try{ae.value=!0;const e=`/DriverBenefit/GetDriverBenefitsByDriverId?driverid=${j.params.user_id}&pageNumber=${ue.value.page}&pageSize=${ue.value.itemsPerPage}`,{data:s,total:a}=await _.list(e,!0);if(s){const e=await Promise.all(s.map((async e=>{const s=await _.list(`/DriverJourney/FindJourneyById?journeyId=${e.journeyId}`);return{...e,trip:s}})));W.value=e,ue.value.totalItems=a,ue.value.totalPages=Math.ceil(a/ue.value.itemsPerPage)}}catch(e){console.error("An error has occurred: ",e)}finally{ae.value=!1}})():"Banking"===e&&await(async()=>{try{se.value=!0;const e=`/UserBankAccount/GetByUserId?userId=${j.params.user_id}`,s=await _.list(e);s&&(X.value=s)}catch(e){console.error("An error has occurred: ",e)}finally{se.value=!1}})()),V.value||await pe()}),{immediate:!0}),b((()=>ce.value),(async(e,s)=>{"Reviews"===le.value&&e!==s&&("Receive"===e?await he():"Send"===e&&await ge())})),b((()=>ne.value),(async(e,s)=>{"Journeys"===le.value&&e!==s&&("Driver"===e?await ve():"Passenger"===e&&await ye())})),b((()=>re.value),(()=>{"Journeys"===le.value&&(de.value.page=1)})),x((async()=>{f.setPageTitle("Carpooler"),ei(),window.addEventListener("resize",ei),await pe(),await(async()=>{try{se.value=!0;const e=`/DriverJourney/ShareSeatAndCommute?id=${j.params.user_id}`,s=await _.list(e);s&&(K.value=s.shareSeat,Z.value=s.shareCommute,ee.value=s.numberOfJourney)}catch(e){console.error("An error has occurred: ",e)}finally{se.value=!1}})()})),$((()=>{window.removeEventListener("resize",ei)}));const si=e=>O.fromISO(e).toFormat("dd MMM yyyy 'at' HH:mm:ss");return(t,l)=>{const f=N,_=U,k=J,w=T,P=ke,b=Y,x=i,$=a,j=s,S=e;return r(),n("div",null,[c("div",Pe,[be,c("div",xe,[y(_,null,{default:p((()=>[y(f,{color:"success",icon:"feather:refresh-ccw",elevated:""},{default:p((()=>[h(" Refresh ")])),_:1}),y(f,{color:"danger",icon:"feather:arrow-left",elevated:"",onClick:l[0]||(l[0]=e=>o(D).push("/app/carpoolers"))},{default:p((()=>[h(" Return to list ")])),_:1})])),_:1})])]),c("div",$e,[y(S,{active:o(se)},{default:p((()=>[c("div",De,[o(V)?.profilePhoto?(r(),g(k,{key:0,size:"xl",picture:`data:image/jpeg;base64,${o(V)?.profilePhoto?.photo}`,initials:`${o(V)?.userDetail?.lastName?.[0]}${o(V)?.userDetail?.firstName?.[0]}`,badge:"/images/icons/flags/canada.svg"},null,8,["picture","initials"])):m("",!0),c("h3",je,v(`${o(V)?.userDetail?.lastName} ${o(V)?.userDetail?.firstName}`),1),c("p",Ce,v(o(V)?.email),1),c("p",Ie,v(o(V)?.phoneNumber),1),c("em",Re,v(o(V)?.userDetail?.bibliography??"No bio available"),1),c("div",Ne,[c("div",Ae,[Se,c("small",Be,[c("b",null,v(o(K)),1),h(" Shared seats")])]),Me,c("div",Te,[Je,c("small",Ue,[c("b",null,v(o(Z)),1),h(" Shared Commute")])]),Ve,c("div",ze,[Le,c("small",Oe,[c("b",null,v(o(ee)),1),h(" Number of trips")])])])]),c("div",Ee,[c("div",Fe,[c("ul",We,[(r(),n(d,null,u(I,((e,s)=>c("li",{key:s,class:C([e===o(le)&&"is-active_tab","is-p_tab"]),onClick:s=>o(D).push({query:{tab:e}})},v(Za(e)),11,Ge))),64))]),"Journeys"===o(le)?(r(),n("div",qe,[c("ul",He,[(r(),n(d,null,u(A,((e,s)=>c("li",{key:s,class:C([e===o(ne)&&"is-active_tab","is-p_tab mr-auto"]),onClick:s=>ne.value=e},v(Za(e)),11,Qe))),64))]),c("ul",Xe,[(r(),n(d,null,u(R,((e,s)=>c("li",{key:s,class:C([e===o(re)&&"is-active_tab","is-p_tab"]),onClick:s=>re.value=e},v(Za(e)),11,Ke))),64))])])):m("",!0),"Reviews"===o(le)?(r(),n("ul",Ye,[(r(),n(d,null,u(B,((e,s)=>c("li",{key:s,class:C([e===o(ce)&&"is-active_tab","is-p_tab"]),onClick:s=>ce.value=e},v(Za(e)),11,Ze))),64))])):m("",!0)]),c("div",es,["Documents"===o(le)?(r(),n(d,{key:0},[o(ae)?(r(),n("div",ss,as)):(r(),n(d,{key:1},[y(w,{class:C([0!==o(z).length&&"is-hidden"]),title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the search terms you've entered. Please try different search terms or criteria.",larger:""},{image:p((()=>[is,ts])),_:1},8,["class"]),c("div",ls,[(r(!0),n(d,null,u(o(z),(e=>(r(),g(P,{key:e.id,doc:e,user:o(V),onRefresh:_e},null,8,["doc","user"])))),128))])],64))],64)):"Vehicles"===o(le)?(r(),n(d,{key:1},[o(ae)?(r(),n("div",rs,ns)):(r(),n(d,{key:1},[y(w,{class:C([0!==o(E).length&&"is-hidden"]),title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the search terms you've entered. Please try different search terms or criteria.",larger:""},{image:p((()=>[cs,os])),_:1},8,["class"]),c("div",ds,[(r(!0),n(d,null,u(o(E),(e=>(r(),g(b,{key:e.id,vehicle:e},null,8,["vehicle"])))),128))])],64))],64)):"Reviews"===o(le)?(r(),n(d,{key:2},[o(ae)?(r(),n("div",us,ms)):(r(),n("div",vs,[y(w,{class:C([0!==o(G).length&&"is-hidden"]),title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the search terms you've entered. Please try different search terms or criteria.",larger:""},{image:p((()=>[ys,ps])),_:1},8,["class"]),c("div",hs,[(r(!0),n(d,null,u(o(G),(e=>(r(),g(x,{key:e.id,radius:"smooth",elevated:"",style:{"margin-top":"4%"}},{default:p((()=>[c("div",gs,[e?.user?.profilePhoto?(r(),g(k,{key:0,size:"large",squared:"",picture:`data:image/jpeg;base64,${e?.user?.profilePhoto?.photo}`,initials:`${e?.user?.userDetail?.lastName?.[0]}${e?.user?.userDetail?.firstName?.[0]}`},null,8,["picture","initials"])):m("",!0),c("div",fs,[c("h3",_s,v(`${e.user?.userDetail?.lastName} ${e.user?.userDetail?.firstName}`),1),c("div",ks,[(r(!0),n(d,null,u(e.userNote,(s=>(r(),n("i",{key:s,class:C(["iconify",s<=e.userNote?"has-text-warning":"has-text-grey"]),"data-icon":s<=e.userNote?"solar:star-bold":"solar:star-outline"},null,10,ws)))),128))]),c("p",null,v(e.comment),1)])])])),_:2},1024)))),128))])]))],64)):"Journeys"===o(le)?(r(),n(d,{key:3},[o(ae)?(r(),n("div",Ps,bs)):(r(),n("div",xs,[0===o(me).length?(r(),g(w,{key:0,title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the filter terms you've entered. Please try different filter terms or criteria.",larger:""},{image:p((()=>[$s,Ds])),_:1})):(r(),n("div",js,[c("div",Cs,[Is,Rs,Ns,As,Ss,"Driver"===o(ne)?(r(),n("div",Bs," Profit ")):m("",!0)]),(r(!0),n(d,null,u(o(me),(e=>(r(),n("div",{key:e.id,class:"is-list_line"},[c("div",Ms,[c("p",null,v(e?.departurePoint?.city??"City"),1),c("span",null,v(e?.departurePoint?.address??"Address"),1)]),c("div",Ts,[c("p",null,v(e?.destinationPoint?.city??"City"),1),c("span",null,v(e?.destinationPoint?.address??"Address"),1)]),c("div",Js,[c("span",null,v(o(O).fromISO(e.travelingDate).toFormat("dd/MM/yy, hh:mm a")),1)]),c("div",Us,[c("p",null,v(e.listOfReservations?.length??0)+" / "+v(e.avalableSeets),1)]),c("div",Vs,[c("b",zs,v(o(M)(e.amountPerSeet)),1)]),"Driver"===o(ne)?(r(),n("div",Ls,[y($,{style:{width:"fit-content","line-height":"1.6",display:"flex"},color:"success"},{default:p((()=>[c("b",Os,v(e.listOfReservations?o(M)(e.listOfReservations?.filter((e=>"1"==e.isCanceled)).reduce(((e,s)=>e+s.totalAmount),0)):o(M)(0)),1)])),_:2},1024)])):m("",!0)])))),128))])),y(j,{"current-page":o(de).page,"onUpdate:currentPage":[l[1]||(l[1]=e=>o(de).page=e),Ya],"item-per-page":o(de).itemsPerPage,"total-items":o(de).totalItems,"max-links-displayed":7,"no-router":""},null,8,["current-page","item-per-page","total-items"])]))],64)):"Referals"===o(le)?(r(),n(d,{key:4},[o(ae)?(r(),n("div",Es,Fs)):(r(),n("div",Ws,[y(w,{class:C([0!==o(q).length&&"is-hidden"]),title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the search terms you've entered. Please try different search terms or criteria.",larger:""},{image:p((()=>[Gs,qs])),_:1},8,["class"])]))],64)):"Rewards"===o(le)?(r(),n(d,{key:5},[o(ae)?(r(),n("div",Hs,Qs)):(r(),n("div",Xs,[y(w,{class:C([0!==o(H).length&&"is-hidden"]),title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the search terms you've entered. Please try different search terms or criteria.",larger:""},{image:p((()=>[Ks,Ys])),_:1},8,["class"])]))],64)):"Payments"===o(le)?(r(),n(d,{key:6},[o(ae)?(r(),n("div",Zs,ea)):(r(),n("div",sa,[y(w,{class:C([0!==o(F).length&&"is-hidden"]),title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the search terms you've entered. Please try different search terms or criteria.",larger:""},{image:p((()=>[aa,ia])),_:1},8,["class"]),c("div",ta,[(r(!0),n(d,null,u(o(F),(e=>(r(),n("div",{key:e.id,class:"is-payout_card"},[c("div",la,[c("div",ra,[c("h3",null,v(we(e)),1),y($,{size:"tiny",color:e.isPaid?"success":"danger"},{default:p((()=>[h(v(e.isPaid?"Paid":"Pending"),1)])),_:2},1032,["color"])]),c("div",na,[c("h3",ca,v(o(M)(e.amountPaid)),1),oa])]),c("div",da,[c("div",ua,[ma,(r(!0),n(d,null,u(e.trip,(e=>(r(),n("div",{key:e.id,class:"is-dest_details"},[c("h4",null,v(e?.departurePoint?.city??"City"),1),c("span",null,v(e?.departurePoint?.address),1)])))),128))]),c("div",va,[ya,(r(!0),n(d,null,u(e.trip,(e=>(r(),n("div",{key:e.id,class:"is-dest_details"},[c("h4",null,v(e?.destinationPoint?.city??"City"),1),c("span",null,v(e?.destinationPoint?.address),1)])))),128))]),pa]),c("div",ha,[ga,c("span",fa,v(si(e.dateOfTransaction)),1)])])))),128))])]))],64)):"Payout's"===o(le)?(r(),n(d,{key:7},[o(ae)?(r(),n("div",_a,ka)):(r(),n("div",wa,[y(w,{class:C([0!==o(W).length&&"is-hidden"]),title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the search terms you've entered. Please try different search terms or criteria.",larger:""},{image:p((()=>[Pa,ba])),_:1},8,["class"]),c("div",xa,[(r(!0),n(d,null,u(o(W),(e=>(r(),n("div",{key:e.id,class:"is-payout_card"},[c("div",$a,[c("div",Da,[c("h3",null,v(we(e)),1),y($,{size:"tiny",color:e.isPaid?"success":"danger"},{default:p((()=>[h(v(e.isPaid?"Paid":"Pending"),1)])),_:2},1032,["color"])]),c("div",ja,[c("h3",Ca,v(o(M)(e.benefit)),1),Ia])]),c("div",Ra,[c("div",Na,[Aa,(r(!0),n(d,null,u(e.trip,(e=>(r(),n("div",{key:e.id,class:"is-dest_details"},[c("h4",null,v(e?.departurePoint?.city??"City"),1),c("span",null,v(e?.departurePoint?.address),1)])))),128))]),c("div",Sa,[Ba,(r(!0),n(d,null,u(e.trip,(e=>(r(),n("div",{key:e.id,class:"is-dest_details"},[c("h4",null,v(e?.destinationPoint?.city??"City"),1),c("span",null,v(e?.destinationPoint?.address),1)])))),128))]),Ma]),c("div",Ta,[Ja,c("span",Ua,v(si(e.dateOfTransaction)),1)])])))),128))])]))],64)):"Banking"===o(le)?(r(),n("div",Va,[0===o(X).length?(r(),g(w,{key:0,title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\r\n              filter terms you've entered. Please try different filter terms or\r\n              criteria.",larger:""},{image:p((()=>[za,La])),_:1})):(r(),n("div",Oa,[Ea,c("div",Fa,[c("div",Wa,[c("div",Ga,[c("h3",null,v(`${o(X).lastName} ${o(X).firstName}`),1),c("p",null,v(o(X).email),1),c("p",qa,v(o(X).telNum),1)])]),c("div",Ha,[c("p",null,v(o(X).address),1),c("p",null,v(o(X).city)+v(o(X).province?` - ${o(X).province}`:"")+v(o(X).postalCode?`, ${o(X).postalCode}`:""),1),c("p",null,v(o(X).country),1)]),c("div",Qa,[c("p",null,"Account: "+v(o(X).accountsNumber),1),c("p",null," Branch: "+v(`${o(X).etablismentNumber} - ${o(X).transitNumber}`),1)]),c("div",Xa,[c("p",null,v(o(O).fromISO(o(X).creationDate).toFormat("dd/MM/yy")),1),c("p",null,[c("small",null,[c("b",null,v(o(O).fromISO(o(X).creationDate).toFormat("hh:mm a")),1)])])])])]))])):m("",!0)])])])),_:1},8,["active"])])])}}});"function"==typeof E&&E(Ka);const Ya=I(Ka,[["__scopeId","data-v-7d7aa317"]]);export{Ya as default};
