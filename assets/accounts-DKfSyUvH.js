import{_ as e}from"./VLoader.vue_vue_type_style_index_0_lang-z6CWX0dI.js";import{_ as a}from"./VFlexPagination.vue_vue_type_script_setup_true_lang-DRRY7dtM.js";import{_ as t}from"./VPlaceholderPage.vue_vue_type_style_index_0_lang-B_FLCEd8.js";import{_ as s}from"./VButton.vue_vue_type_style_index_0_lang-BOJu42_j.js";import{e as l,E as i,r,Q as n,w as u,o,t as c,v as d,x as m,Y as p,a4 as v,m as h,j as _,H as g,I as y,L as f,J as w,R as x,S as b,y as j}from"./index-DCVzCXGO.js";import{_ as k,a as P}from"./search-1-dark-DV4mRi9_.js";import{u as N}from"./viewWrapper-B2fmsTqy.js";import{u as R}from"./defaultResource-BKcbMEp6.js";import{D as $}from"./datetime-xmklhC0O.js";import{b as E}from"./route-block-B_A1xBdJ.js";import"./_plugin-vue_export-helper-BCo6x5W8.js";import"./useNotyf-1WfirvEN.js";import"./notyf-CueL1e6X.js";import"./useFetch-DTVXwznz.js";const A={class:"list-view-toolbar"},B={class:"search-widget",style:{width:"300px"}},S={class:"field"},V={class:"control"},D=["disabled"],F=[m("i",{"aria-hidden":"true",class:"iconify","data-icon":"feather:search"},null,-1)],I={class:"buttons"},L={class:"page-content-inner"},U=m("img",{class:"light-image",src:k,alt:""},null,-1),M=m("img",{class:"dark-image",src:P,alt:""},null,-1),W={key:1,class:"is-list_view"},G=m("div",{class:"is-list_header"},[m("div",{class:"is-list_header-item",style:{width:"30%"}},"#"),m("div",{class:"is-list_header-item",style:{width:"15%"}},"Date"),m("div",{class:"is-list_header-item",style:{width:"15%"}},"Address"),m("div",{class:"is-list_header-item",style:{width:"15%"}}),m("div",{class:"is-list_header-item",style:{width:"15%"}},"Bank"),m("div",{class:"is-list_header-item",style:{width:"10%"}})],-1),O={class:"is-list_line-item is-user",style:{width:"30%"}},T={class:"is-user_metadata"},Y={class:"has-text-primary is-underlined"},q={class:"is-list_line-item",style:{width:"15%"}},z={class:"is-list_line-item",style:{width:"15%"}},C={class:"is-list_line-item",style:{width:"15%"}},H={class:"is-list_line-item",style:{width:"15%"}},J=m("div",{class:"is-list_line-item",style:{width:"10%"}},null,-1),Q=l({__name:"accounts",setup(l){const k=N(),P=R(),E=i(),Q=r(""),K=r(!1),X=r({currentPage:1,perPage:10,total:0,page:1}),Z=r([]),ee=n((()=>{let e=Z.value;!Q.value||Q.value.length<1||(e=e.filter((e=>e.firstName?.match(new RegExp(Q.value,"i"))||e.lastName?.match(new RegExp(Q.value,"i"))||e.email?.match(new RegExp(Q.value,"i"))||e.city?.match(new RegExp(Q.value,"i"))||e.address?.match(new RegExp(Q.value,"i"))||e.country?.match(new RegExp(Q.value,"i"))||e.province?.match(new RegExp(Q.value,"i"))))),X.value.total=e.length;const a=(X.value.currentPage-1)*X.value.perPage,t=a+X.value.perPage;return e.slice(a,t)})),ae=async()=>{try{K.value=!0;const e=`/UserBankAccount/GetAllUserBankAccount?pageNumber=${X.value.page}&pageSize=${X.value.perPage}`,{data:a,total:t}=await P.list(e,!0);a&&(Z.value=a,X.value.total=t,X.value.total=Math.ceil(t/X.value.perPage))}catch(e){console.error("An error has occurred: ",e)}finally{K.value=!1}};return u((()=>E.query.page),(async e=>{e?(X.value.page=parseInt(e),await ae()):(X.value.page=1,await ae())}),{immediate:!0}),o((async()=>{k.setPageTitle("List of User Bank Accounts"),await ae()})),(l,i)=>{const r=s,n=t,u=a,o=e;return c(),d("div",null,[m("div",A,[m("div",B,[m("div",S,[m("div",V,[p(m("input",{"onUpdate:modelValue":i[0]||(i[0]=e=>_(Q)?Q.value=e:null),type:"text",class:"input",placeholder:"Rechercher..."},null,512),[[v,h(Q)]]),m("button",{class:"search-button",disabled:h(Q).length<1},F,8,D)])])]),m("div",I,[g(r,{color:"primary",icon:"feather:refresh-ccw",elevated:"",rounded:""},{default:y((()=>[f(" Refresh ")])),_:1})])]),g(o,{active:h(K)},{default:y((()=>[m("div",L,[0===h(ee).length?(c(),w(n,{key:0,title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\r\n              filter terms you've entered. Please try different filter terms or\r\n              criteria.",larger:""},{image:y((()=>[U,M])),_:1})):(c(),d("div",W,[G,(c(!0),d(x,null,b(h(ee),(e=>(c(),d("div",{key:e.id,class:"is-list_line"},[m("div",O,[m("div",T,[m("h3",null,j(`${e.lastName} ${e.firstName}`),1),m("p",null,j(e.email),1),m("p",Y,j(e.telNum),1)])]),m("div",q,[m("p",null,j(h($).fromISO(e.creationDate).toFormat("dd/MM/yy")),1),m("p",null,[m("small",null,[m("b",null,j(h($).fromISO(e.creationDate).toFormat("hh:mm a")),1)])])]),m("div",z,[m("p",null,j(e.country),1),m("p",null,j(`${e.city} - ${e.province}`),1)]),m("div",C,[m("p",null,j(e.address),1),m("p",null,j(`poBox: ${e.postalCode}`),1)]),m("div",H,[m("p",null,j(e.accountNumber),1),m("p",null,j(`${e.etablismentNumber} - ${e.transitNumber}`),1)]),J])))),128))])),g(u,{"item-per-page":h(X)?.perPage,"total-items":h(X)?.total,"current-page":h(X)?.page,"max-links-displayed":7},null,8,["item-per-page","total-items","current-page"])])])),_:1},8,["active"])])}}});"function"==typeof E&&E(Q);export{Q as default};
