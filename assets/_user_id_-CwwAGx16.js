import{_ as e}from"./VLoader.vue_vue_type_style_index_0_lang-CaAf6-TF.js";import{_ as s}from"./VFlexPagination.vue_vue_type_script_setup_true_lang-B_KnP90u.js";import{_ as a}from"./VTag.vue_vue_type_style_index_0_lang-Ccs_Zx16.js";import{_ as i}from"./VCard.vue_vue_type_script_setup_true_lang-97Wz4JG3.js";import{e as t,r as l,t as r,v as n,x as c,m as o,R as d,S as u,z as m,y as v,H as y,I as p,L as h,J as f,j as g,a6 as _,D as k,E as w,Q as P,w as b,o as x,i as $,a1 as D,a2 as j,A as C}from"./index-DS7wE-jD.js";import{_ as I}from"./_plugin-vue_export-helper-BCo6x5W8.js";import{_ as S}from"./VModal.vue_vue_type_style_index_0_lang-DpzmKgD9.js";import{_ as R}from"./VButton.vue_vue_type_style_index_0_lang-5A9YLZjy.js";import{u as N}from"./useNotyf-BdZ2Z_wX.js";import{u as A}from"./defaultResource-BoNHVbB6.js";import{c as B,f as O,T}from"./common-DaPMhcAK.js";import{_ as M}from"./VPlaceholderPage.vue_vue_type_style_index_0_lang-Dg8IbSZ2.js";import{_ as J}from"./VAvatar.vue_vue_type_style_index_0_lang-A1XDdLuK.js";import{_ as U}from"./VButtons.vue_vue_type_script_setup_true_lang-BFpncuD1.js";import{_ as V,a as z}from"./search-1-dark-DV4mRi9_.js";import{u as E}from"./viewWrapper-C2STndyf.js";import{D as L}from"./datetime-xmklhC0O.js";import{b as F}from"./route-block-B_A1xBdJ.js";import"./VFlex.vue_vue_type_style_index_0_lang-B3O-4R9P.js";import"./notyf-B8_S_SnG.js";import"./useFetch-BWOPolYv.js";const W={class:"is-vehicle_elt"},G={class:"is-images_container"},q=["src","alt"],H={key:0,class:"is-image_list"},Q=["src","alt","onClick"],X={class:"is-vehicle_meta mt-1"},K={class:"is-flex is-justify-content-space-between"},Y={class:"has-text-primary is-underlined"},Z=I(t({__name:"CpxCarPreview",props:{vehicle:{default:void 0}},setup(e){const s=l(0);return(e,a)=>(r(),n("div",W,[c("div",G,[c("img",{src:`data:${e.vehicle?.vehiclePicture?.[o(s)]?.fileExtension};base64,${e.vehicle.vehiclePicture?.[o(s)].photo}`,alt:e.vehicle?.vehicleMark,class:"is-vehicle_img"},null,8,q),e.vehicle?.vehiclePicture?.length>1?(r(),n("div",H,[(r(!0),n(d,null,u(e.vehicle?.vehiclePicture,((a,i)=>(r(),n("img",{key:i,src:`data:${a.fileExtension};base64,${a.photo}`,alt:e.vehicle?.vehicleMark,class:"is-sub_image",onClick:e=>s.value=i},null,8,Q)))),128))])):m("",!0)]),c("div",X,[c("h3",null,v(`${e.vehicle?.vehicleMark} - ${e.vehicle?.vehicleType} - ${e.vehicle.numberOfSeets} seats`),1),c("div",K,[c("span",Y,v(e.vehicle?.vehiculRegistration),1),c("span",null,v(e.vehicle?.color),1)])])]))}}),[["__scopeId","data-v-e12a505b"]]),ee={class:"is-doc_elt"},se={class:"is-images_container"},ae=["src","alt"],ie={key:0,class:"is-image_list"},te=["src","alt","onClick"],le={class:"is-doc_meta mt-1"},re={class:"is-flex is-justify-content-space-between"},ne={class:"has-text-primary is-underlined"},ce={class:"is-doc_actions"},oe={class:"is-flex gap-4"},de={class:"is-doc_preview"},ue={class:"is-dp_imgs"},me=["src","alt"],ve={class:"is-dp_img_list"},ye=["src","alt","onClick"],pe={class:"is-user_details"},he=["src","alt"],fe={class:"mt-2"},ge={class:"has-text-primary is-underlined"},_e={key:1,class:"is-dp_actions mt-4"},ke={class:"is-flex is-justify-content-flex-end gap-2"},we=I(t({__name:"CpxDocPreview",props:{doc:{default:void 0},user:{default:void 0}},emits:["close","refresh"],setup(e,{emit:s}){const i=s,t=e,k=A(),w=N(),P=l(0),b=l(!1),x=l(!1),$=async e=>{try{x.value=!0;const s={...t.doc,status:e?"1":"0"};await k.edit("UserDocument/Update",s),w({title:"Success",message:"Document has been successfully updated",type:"success"}),b.value=!1,i("refresh")}catch(s){console.log("error: ",s)}finally{x.value=!1}};return(e,s)=>{const i=a,t=R,l=S;return r(),n("div",ee,[c("div",se,[c("img",{src:`data:${e.doc?.pictures?.[o(P)]?.fileExtension};base64,${e.doc.pictures?.[o(P)].photo}`,alt:e.doc?.vehicleMark,class:"is-doc_img"},null,8,ae),e.doc?.pictures?.length>1?(r(),n("div",ie,[(r(!0),n(d,null,u(e.doc?.pictures,((s,a)=>(r(),n("img",{key:a,src:`data:${s.fileExtension};base64,${s.photo}`,alt:e.doc?.vehicleMark,class:"is-sub_image",onClick:e=>P.value=a},null,8,te)))),128))])):m("",!0)]),c("div",le,[c("h3",null,v(e.doc.id),1),c("div",re,[c("span",ne,v(e.doc.documentType),1),c("span",null,v(o(B)(e.doc.creationDate,!0)),1)])]),c("div",ce,[y(i,{color:"2"===e.doc.status?"solid":"1"===e.doc.status?"success":"danger"},{default:p((()=>[h(v("2"===e.doc.status?"Pending":"1"===e.doc.status?"Approved":"Rejected"),1)])),_:1},8,["color"]),y(t,{color:"info",elevated:"",onClick:s[0]||(s[0]=()=>b.value=!0)},{default:p((()=>[h(" View ")])),_:1})]),(r(),f(_,{to:"body"},[o(b)?(r(),f(l,{key:0,open:o(b),"onUpdate:open":s[3]||(s[3]=e=>g(b)?b.value=e:null),title:"Document Preview",size:"large",nobg:"",noheader:"",noaction:"",onClose:s[4]||(s[4]=()=>b.value=!1)},{content:p((()=>[c("div",oe,[c("div",de,[c("div",ue,[c("img",{src:`data:${e.doc?.pictures?.[o(P)]?.fileExtension};base64,${e.doc.pictures?.[o(P)].photo}`,alt:e.doc?.vehicleMark,class:"is-dp_img"},null,8,me),c("div",ve,[(r(!0),n(d,null,u(e.doc?.pictures,((s,a)=>(r(),n("img",{key:a,src:`data:${s.fileExtension};base64,${s.photo}`,alt:e.doc?.vehicleMark,class:"is-sub_image",onClick:e=>P.value=a},null,8,ye)))),128))])])]),c("div",pe,[e.user?.profilePhoto?(r(),n("img",{key:0,src:`data:${e.user?.profilePhoto?.fileExtension};base64,${e.user?.profilePhoto?.photo}`,alt:`${e.user?.userDetail?.lastName} ${e.user?.userDetail?.firstName}`,class:"is-user_img"},null,8,he)):m("",!0),c("h3",fe,v(`${e.user?.userDetail?.lastName} ${e.user?.userDetail?.firstName}`),1),c("span",null,v(e.user?.email),1),c("span",ge,[c("b",null,v(e.user?.phoneNumber),1)]),"2"===e.doc.status?(r(),n("div",_e,[c("div",ke,[y(t,{color:"danger",size:"medium",icon:"material-symbols-light:thumb-down-outline-rounded",elevated:"",loading:o(x),onClick:s[1]||(s[1]=()=>$(!1))},{default:p((()=>[h(" Reject ")])),_:1},8,["loading"]),y(t,{color:"success",size:"medium",icon:"material-symbols-light:thumb-up-outline-rounded",elevated:"",loading:o(x),onClick:s[2]||(s[2]=()=>$(!0))},{default:p((()=>[h(" Accept ")])),_:1},8,["loading"])])])):(r(),f(i,{key:2,class:"mt-4",size:"tiny",style:{width:"fit-content"},color:"2"===e.doc.status?"solid":"1"===e.doc.status?"success":"danger"},{default:p((()=>[h(v("2"===e.doc.status?"Pending":"1"===e.doc.status?"Approved":"Rejected"),1)])),_:1},8,["color"]))])])])),action:p((()=>[])),_:1},8,["open"])):m("",!0)]))])}}}),[["__scopeId","data-v-3c8b01ec"]]),Pe=e=>(D("data-v-1d19a677"),e=e(),j(),e),be={class:"list-view-toolbar"},xe=Pe((()=>c("div",null,null,-1))),$e={class:"buttons"},De={class:"profile-wrapper"},je={class:"profile-header has-text-centered"},Ce={class:"title is-4 is-narrow is-thin"},Ie={class:"light-text"},Se={class:"light-text"},Re={class:"light-text mt-4"},Ne={class:"profile-stats"},Ae={class:"profile-stat"},Be=Pe((()=>c("i",{"aria-hidden":"true","data-icon":"ph:office-chair-thin",class:"iconify"},null,-1))),Oe={class:"ml-2"},Te=Pe((()=>c("div",{class:"separator"},null,-1))),Me={class:"profile-stat"},Je=Pe((()=>c("i",{"aria-hidden":"true","data-icon":"ph:users-three-thin",class:"iconify"},null,-1))),Ue={class:"ml-2"},Ve=Pe((()=>c("div",{class:"separator"},null,-1))),ze={class:"profile-stat"},Ee=Pe((()=>c("i",{"aria-hidden":"true","data-icon":"ph:users-three-thin",class:"iconify"},null,-1))),Le={class:"ml-2"},Fe={class:"profile-body"},We={class:"is-flex is-flex-direction-column is-justify-content-center is-align-items-center"},Ge={class:"is-profile_tabs mb-5"},qe=["onClick"],He={key:0,style:{width:"100%"},class:"is-flex is-justify-content-between is-align-items-center mb-5"},Qe={class:"is-profile_tabs is-justify-content-start"},Xe=["onClick"],Ke={class:"is-profile_tabs"},Ye=["onClick"],Ze={key:1,class:"is-profile_tabs"},es=["onClick"],ss={class:"is-profile_content"},as={key:0,class:"is-flex is-justify-content-center p-6"},is=[Pe((()=>c("div",{class:"is-profile_loader"},null,-1)))],ts=Pe((()=>c("img",{class:"light-image",src:V,alt:""},null,-1))),ls=Pe((()=>c("img",{class:"dark-image",src:z,alt:""},null,-1))),rs={class:"is-card_container is-grid grid-cols-3 gap-2"},ns={key:0,class:"is-flex is-justify-content-center p-6"},cs=[Pe((()=>c("div",{class:"is-profile_loader"},null,-1)))],os=Pe((()=>c("img",{class:"light-image",src:V,alt:""},null,-1))),ds=Pe((()=>c("img",{class:"dark-image",src:z,alt:""},null,-1))),us={class:"is-card_container is-grid grid-cols-3 gap-2"},ms={key:0,class:"is-flex is-justify-content-center p-6"},vs=[Pe((()=>c("div",{class:"is-profile_loader"},null,-1)))],ys={key:1,class:"is-card_container"},ps=Pe((()=>c("img",{class:"light-image",src:V,alt:""},null,-1))),hs=Pe((()=>c("img",{class:"dark-image",src:z,alt:""},null,-1))),fs={class:"is-card_container is-grid grid-cols-3 gap-2 mb-5"},gs={class:"user-vote"},_s={class:"infos"},ks={class:"title is-5 mb-2"},ws={class:"rating"},Ps=["data-icon"],bs={key:0,class:"is-flex is-justify-content-center p-6"},xs=[Pe((()=>c("div",{class:"is-profile_loader"},null,-1)))],$s={key:1,class:"is-card_container"},Ds=Pe((()=>c("img",{class:"light-image",src:V,alt:""},null,-1))),js=Pe((()=>c("img",{class:"dark-image",src:z,alt:""},null,-1))),Cs={key:1,class:"is-list_view"},Is={class:"is-list_header mt-5"},Ss=Pe((()=>c("div",{class:"is-list_header-item",style:{width:"25%"}}," From ",-1))),Rs=Pe((()=>c("div",{class:"is-list_header-item",style:{width:"25%"}}," To ",-1))),Ns=Pe((()=>c("div",{class:"is-list_header-item",style:{width:"15%"}}," Traveling Date ",-1))),As=Pe((()=>c("div",{class:"is-list_header-item",style:{width:"10%"}}," Seats ",-1))),Bs=Pe((()=>c("div",{class:"is-list_header-item",style:{width:"10%"}}," PU ",-1))),Os={key:0,class:"is-list_header-item",style:{width:"15%"}},Ts={class:"is-list_line-item",style:{width:"25%"}},Ms={class:"is-list_line-item",style:{width:"25%"}},Js={class:"is-list_line-item",style:{width:"15%"}},Us={class:"is-list_line-item",style:{width:"10%"}},Vs={class:"is-list_line-item",style:{width:"10%"}},zs={style:{"font-size":"0.95rem"},class:"ml-2"},Es={key:0,class:"is-list_line-item",style:{width:"15%"}},Ls={style:{"font-size":"0.95rem"},class:"ml-2"},Fs={key:0,class:"is-flex is-justify-content-center p-6"},Ws=[Pe((()=>c("div",{class:"is-profile_loader"},null,-1)))],Gs={key:1,class:"is-card_container"},qs=Pe((()=>c("img",{class:"light-image",src:V,alt:""},null,-1))),Hs=Pe((()=>c("img",{class:"dark-image",src:z,alt:""},null,-1))),Qs={key:0,class:"is-flex is-justify-content-center p-6"},Xs=[Pe((()=>c("div",{class:"is-profile_loader"},null,-1)))],Ks={key:1,class:"is-card_container"},Ys=Pe((()=>c("img",{class:"light-image",src:V,alt:""},null,-1))),Zs=Pe((()=>c("img",{class:"dark-image",src:z,alt:""},null,-1))),ea={key:0,class:"is-flex is-justify-content-center p-6"},sa=[Pe((()=>c("div",{class:"is-profile_loader"},null,-1)))],aa={key:1,class:"is-card_container"},ia=Pe((()=>c("img",{class:"light-image",src:V,alt:""},null,-1))),ta=Pe((()=>c("img",{class:"dark-image",src:z,alt:""},null,-1))),la={class:"is-card_container is-grid grid-cols-3 gap-2"},ra={class:"is-pc_head"},na={class:"is-pch_l"},ca={class:"is-pch_r"},oa={class:"has-text-primary"},da=Pe((()=>c("span",null,"xx Seats taked",-1))),ua={class:"is-pc_body"},ma={class:"is-dest_elt"},va=Pe((()=>c("i",{class:"iconify has-text-primary","aria-hidden":"true","data-icon":"solar:map-point-bold-duotone"},null,-1))),ya={class:"is-dest_elt"},pa=Pe((()=>c("i",{class:"iconify has-text-success","aria-hidden":"true","data-icon":"solar:map-point-bold-duotone"},null,-1))),ha=Pe((()=>c("div",{class:"is-dest_elt_divider"},null,-1))),fa={class:"is-pc_footer"},ga=Pe((()=>c("i",{class:"iconify","aria-hidden":"true","data-icon":"solar:calendar-broken"},null,-1))),_a={class:"ml-2"},ka={key:0,class:"is-flex is-justify-content-center p-6"},wa=[Pe((()=>c("div",{class:"is-profile_loader"},null,-1)))],Pa={key:1,class:"is-card_container"},ba=Pe((()=>c("img",{class:"light-image",src:V,alt:""},null,-1))),xa=Pe((()=>c("img",{class:"dark-image",src:z,alt:""},null,-1))),$a={class:"is-card_container is-grid grid-cols-3 gap-2"},Da={class:"is-pc_head"},ja={class:"is-pch_l"},Ca={class:"is-pch_r"},Ia={class:"has-text-primary"},Sa=Pe((()=>c("span",null,"xx Seats taked",-1))),Ra={class:"is-pc_body"},Na={class:"is-dest_elt"},Aa=Pe((()=>c("i",{class:"iconify has-text-primary","aria-hidden":"true","data-icon":"solar:map-point-bold-duotone"},null,-1))),Ba={class:"is-dest_elt"},Oa=Pe((()=>c("i",{class:"iconify has-text-success","aria-hidden":"true","data-icon":"solar:map-point-bold-duotone"},null,-1))),Ta=Pe((()=>c("div",{class:"is-dest_elt_divider"},null,-1))),Ma={class:"is-pc_footer"},Ja=Pe((()=>c("i",{class:"iconify","aria-hidden":"true","data-icon":"solar:calendar-broken"},null,-1))),Ua={class:"ml-2"},Va={key:8,class:"page-content-inner"},za=Pe((()=>c("img",{class:"light-image",src:V,alt:""},null,-1))),Ea=Pe((()=>c("img",{class:"dark-image",src:z,alt:""},null,-1))),La={key:1,class:"is-list_view"},Fa=Pe((()=>c("div",{class:"is-list_header"},[c("div",{class:"is-list_header-item",style:{width:"30%"}}," Beneficiary "),c("div",{class:"is-list_header-item",style:{width:"30%"}}," Address "),c("div",{class:"is-list_header-item",style:{width:"25%"}}," Bank Details "),c("div",{class:"is-list_header-item",style:{width:"15%"}}," Added On ")],-1))),Wa={class:"is-list_line"},Ga={class:"is-list_line-item is-user",style:{width:"30%"}},qa={class:"is-user_metadata"},Ha={class:"has-text-primary is-underlined"},Qa={class:"is-list_line-item",style:{width:"30%"}},Xa={class:"is-list_line-item",style:{width:"25%"}},Ka={class:"is-list_line-item",style:{width:"15%"}},Ya=t({__name:"[user_id]",setup(t){const g=E(),_=A(),D=k(),j=w(),I=["Documents","Vehicles","Reviews","Journeys","Referals","Rewards","Payments","Payout's","Banking"],S=["All","Pending","Completed","Canceled"],N=["Driver","Passenger"],B=["Receive","Send"],V=l(),z=l([]),F=l([]),W=l([]),G=l([]),q=l([]),H=l([]),Q=l([]),X=l([]),K=l([]),Y=l(0),ee=l(0),se=l(0),ae=l(!1),ie=l(!1),te=l(!1),le={Documents:"Do",Vehicles:"Ve",Reviews:"Re",Journeys:"Jo",Referals:"Rf",Rewards:"Rw",Payments:"Pa","Payout's":"Py",Banking:"Ba"},re=l("Documents"),ne=l("All"),ce=l("Driver"),oe=l("Receive"),de=l({page:1,itemsPerPage:9,totalItems:0,totalPages:0}),ue=l({page:1,itemsPerPage:9,totalItems:0,totalPages:0}),me=l({page:1,itemsPerPage:9,totalItems:0,totalPages:0}),ve=P((()=>{let e=X.value.filter((e=>"All"===ne.value||("Pending"===ne.value?"1"===e.status&&!Za(e.travelingDate):"Completed"===ne.value?"2"===e.status||Za(e.travelingDate):"Canceled"===ne.value?"0"===e.status:void 0)));ue.value.totalItems=e.length;const s=(ue.value.page-1)*ue.value.itemsPerPage,a=s+ue.value.itemsPerPage;return e.slice(s,a)})),ye=async()=>{try{ie.value=!0;const e=j.params.user_id,s=await _.list("/DriverJourney/GetAllJourney");s&&(X.value=s.filter((s=>s.userId===e)),ue.value.totalItems=X.value.length)}catch(e){console.error("An error has occurred: ",e)}finally{ie.value=!1}},pe=async()=>{try{ie.value=!0;const e=j.params.user_id,s=await _.list("/DriverJourney/GetJourneyByPassenger?passengerId="+e);s&&(X.value=s.journeyList,ue.value.totalItems=X.value.length)}catch(e){console.error("An error has occurred: ",e)}finally{ie.value=!1}},he=async()=>{try{ae.value=!0;const e=`/User/FindUserById?userid=${j.params.user_id}`,s=await _.list(e);s&&(V.value=s)}catch(e){console.error("An error has occurred: ",e)}finally{ae.value=!1}},fe=async()=>{q.value=[];try{ae.value=!0;const e=`/UserReview/ViewNote?userid=${j.params.user_id}`,s=await _.list(e);if(s){const e=[...new Set(s.map((e=>e.userId)).filter((e=>null!=e)))].map((e=>_e(e))),a=await Promise.all(e),i=new Map;a.forEach((e=>{e&&e.id&&i.set(e.id,e)}));const t=s.map((e=>{const s=i.get(e.userId);return{...e,user:s||null}}));q.value=t}}catch(e){console.error("An error has occurred: ",e)}finally{ae.value=!1}},ge=async()=>{try{ae.value=!0;const e=`/UserReview/ViewSendNote?userid=${j.params.user_id}`,s=await _.list(e);if(s){const e=[...new Set(s.map((e=>e.userToNoteId)).filter((e=>null!=e)))].map((e=>_e(e))),a=await Promise.all(e),i=new Map;a.forEach((e=>{e&&e.id&&i.set(e.id,e)}));const t=s.map((e=>{const s=i.get(e.userToNoteId);return{...e,user:s||null}}));q.value=t}}catch(e){console.error("An error has occurred: ",e)}finally{ae.value=!1}},_e=async e=>{try{return await _.listUser(`/User/FindUserById?userid=${e}`)}catch(s){return console.error(`Error fetching user ${e}: `,s),null}},ke=async()=>{try{ie.value=!0;const e=`/UserDocument/GetByUserId?userid=${j.params.user_id}`,s=await _.list(e);s&&(z.value=s)}catch(e){console.error("An error has occurred: ",e)}finally{ie.value=!1}},Pe=e=>{let s=0;return e&&e.forEach((e=>{e.listOfReservations.forEach((e=>{const a=L.fromISO(e.travelingDate),i=L.fromISO(e.creationDate),t=a.diff(i,"hours").hours;if("1"===e.isCanceled){const a=(e.amountPerSeat-1.695-.0396*e.amountPerSeat)*e.numberOfSeat;s+=a}if("0"===e.isCanceled&&t>=12&&t<24){const a=(e.amountPerSeat/2-1.695-e.amountPerSeat/2*.0396)*e.numberOfSeat;s+=a}if("0"===e.isCanceled&&t<12){const a=(e.amountPerSeat-1.695-.0396*e.amountPerSeat)*e.numberOfSeat;s+=a}}))})),O(s)},Ya=e=>{const s=e?.id?.split("-").at(1).toUpperCase(),a=e?.journeyId?.split("-").at(1).toUpperCase();return`#${s}${a}`},Za=e=>{const s=L.fromISO(e).plus({hours:6});return L.now()>s},ei=e=>{ue.value.page=e},si=e=>te.value&&le[e]?le[e]:e,ai=()=>{window.matchMedia("(max-width: 767px)").matches?te.value=!0:te.value=!1};b((()=>j.query.tab),(async e=>{if(e){const s=I.some((s=>s===e));re.value=s?e:"Documents"}else D.replace({query:{tab:I[0]}})}),{immediate:!0}),b((()=>re.value),(async e=>{"Documents"===e?await ke():"Vehicles"===e?await(async()=>{try{ie.value=!0;const e=`/Vehicle/GetAllByUser?id=${j.params.user_id}`,s=await _.list(e);s&&(F.value=s)}catch(e){console.error("An error has occurred: ",e)}finally{ie.value=!1}})():"Journeys"===e?(ue.value.page=1,"Driver"===ce.value?await ye():"Passenger"===ce.value&&await pe()):"Reviews"===e?"Receive"===oe.value?await fe():"Send"===oe.value&&await ge():"Referals"===e||"Rewards"===e||("Payments"===e?await(async()=>{try{ie.value=!0;const e=`/PassengerPaiement/GetPaiementByPassengerId?passengerid=${j.params.user_id}&pageNumber=${de.value.page}&pageSize=${de.value.itemsPerPage}`,{data:s,total:a}=await _.list(e,!0);if(s){const e=await Promise.all(s.map((async e=>{const s=await _.list(`/DriverJourney/FindJourneyById?journeyId=${e.journeyId}`);return{...e,trip:s}})));W.value=e,de.value.totalItems=a,de.value.totalPages=Math.ceil(a/de.value.itemsPerPage)}}catch(e){console.error("An error has occurred: ",e)}finally{ie.value=!1}})():"Payout's"===e?await(async()=>{try{ie.value=!0;const e=`/DriverBenefit/GetDriverBenefitsByDriverId?driverid=${j.params.user_id}&pageNumber=${me.value.page}&pageSize=${me.value.itemsPerPage}`,{data:s,total:a}=await _.list(e,!0);if(s){const e=await Promise.all(s.map((async e=>{const s=await _.list(`/DriverJourney/FindJourneyById?journeyId=${e.journeyId}`);return{...e,trip:s}})));G.value=e,me.value.totalItems=a,me.value.totalPages=Math.ceil(a/me.value.itemsPerPage)}}catch(e){console.error("An error has occurred: ",e)}finally{ie.value=!1}})():"Banking"===e&&await(async()=>{try{ae.value=!0;const e=`/UserBankAccount/GetByUserId?userId=${j.params.user_id}`,s=await _.list(e);s&&(K.value=s)}catch(e){console.error("An error has occurred: ",e)}finally{ae.value=!1}})()),V.value||await he()}),{immediate:!0}),b((()=>oe.value),(async(e,s)=>{"Reviews"===re.value&&e!==s&&("Receive"===e?await fe():"Send"===e&&await ge())})),b((()=>ce.value),(async(e,s)=>{"Journeys"===re.value&&e!==s&&("Driver"===e?await ye():"Passenger"===e&&await pe())})),b((()=>ne.value),(()=>{"Journeys"===re.value&&(ue.value.page=1)})),x((async()=>{g.setPageTitle("Carpooler"),ai(),window.addEventListener("resize",ai),await he(),await(async()=>{try{ae.value=!0;const e=`/DriverJourney/ShareSeatAndCommute?id=${j.params.user_id}`,s=await _.list(e);s&&(Y.value=s.shareSeat,ee.value=s.shareCommute,se.value=s.numberOfJourney)}catch(e){console.error("An error has occurred: ",e)}finally{ae.value=!1}})()})),$((()=>{window.removeEventListener("resize",ai)}));const ii=e=>L.fromISO(e).toFormat("dd MMM yyyy 'at' HH:mm:ss");return(t,l)=>{const g=R,_=U,k=J,w=M,P=we,b=Z,x=i,$=a,j=s,A=e;return r(),n("div",null,[c("div",be,[xe,c("div",$e,[y(_,null,{default:p((()=>[y(g,{color:"success",icon:"feather:refresh-ccw",elevated:""},{default:p((()=>[h(" Refresh ")])),_:1}),y(g,{color:"danger",icon:"feather:arrow-left",elevated:"",onClick:l[0]||(l[0]=e=>o(D).push("/app/carpoolers"))},{default:p((()=>[h(" Return to list ")])),_:1})])),_:1})])]),c("div",De,[y(A,{active:o(ae)},{default:p((()=>[c("div",je,[o(V)?.profilePhoto?(r(),f(k,{key:0,size:"xl",picture:`data:image/jpeg;base64,${o(V)?.profilePhoto?.photo}`,initials:`${o(V)?.userDetail?.lastName?.[0]}${o(V)?.userDetail?.firstName?.[0]}`,badge:"/images/icons/flags/canada.svg"},null,8,["picture","initials"])):m("",!0),c("h3",Ce,v(`${o(V)?.userDetail?.lastName} ${o(V)?.userDetail?.firstName}`),1),c("p",Ie,v(o(V)?.email),1),c("p",Se,v(o(V)?.phoneNumber),1),c("em",Re,v(o(V)?.userDetail?.bibliography??"No bio available"),1),c("div",Ne,[c("div",Ae,[Be,c("small",Oe,[c("b",null,v(o(Y)),1),h(" Shared seats")])]),Te,c("div",Me,[Je,c("small",Ue,[c("b",null,v(o(ee)),1),h(" Shared Commute")])]),Ve,c("div",ze,[Ee,c("small",Le,[c("b",null,v(o(se)),1),h(" Number of trips")])])])]),c("div",Fe,[c("div",We,[c("ul",Ge,[(r(),n(d,null,u(I,((e,s)=>c("li",{key:s,class:C([e===o(re)&&"is-active_tab","is-p_tab"]),onClick:s=>o(D).push({query:{tab:e}})},v(si(e)),11,qe))),64))]),"Journeys"===o(re)?(r(),n("div",He,[c("ul",Qe,[(r(),n(d,null,u(N,((e,s)=>c("li",{key:s,class:C([e===o(ce)&&"is-active_tab","is-p_tab mr-auto"]),onClick:s=>ce.value=e},v(si(e)),11,Xe))),64))]),c("ul",Ke,[(r(),n(d,null,u(S,((e,s)=>c("li",{key:s,class:C([e===o(ne)&&"is-active_tab","is-p_tab"]),onClick:s=>ne.value=e},v(si(e)),11,Ye))),64))])])):m("",!0),"Reviews"===o(re)?(r(),n("ul",Ze,[(r(),n(d,null,u(B,((e,s)=>c("li",{key:s,class:C([e===o(oe)&&"is-active_tab","is-p_tab"]),onClick:s=>oe.value=e},v(si(e)),11,es))),64))])):m("",!0)]),c("div",ss,["Documents"===o(re)?(r(),n(d,{key:0},[o(ie)?(r(),n("div",as,is)):(r(),n(d,{key:1},[y(w,{class:C([0!==o(z).length&&"is-hidden"]),title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the search terms you've entered. Please try different search terms or criteria.",larger:""},{image:p((()=>[ts,ls])),_:1},8,["class"]),c("div",rs,[(r(!0),n(d,null,u(o(z),(e=>(r(),f(P,{key:e.id,doc:e,user:o(V),onRefresh:ke},null,8,["doc","user"])))),128))])],64))],64)):"Vehicles"===o(re)?(r(),n(d,{key:1},[o(ie)?(r(),n("div",ns,cs)):(r(),n(d,{key:1},[y(w,{class:C([0!==o(F).length&&"is-hidden"]),title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the search terms you've entered. Please try different search terms or criteria.",larger:""},{image:p((()=>[os,ds])),_:1},8,["class"]),c("div",us,[(r(!0),n(d,null,u(o(F),(e=>(r(),f(b,{key:e.id,vehicle:e},null,8,["vehicle"])))),128))])],64))],64)):"Reviews"===o(re)?(r(),n(d,{key:2},[o(ie)?(r(),n("div",ms,vs)):(r(),n("div",ys,[y(w,{class:C([0!==o(q).length&&"is-hidden"]),title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the search terms you've entered. Please try different search terms or criteria.",larger:""},{image:p((()=>[ps,hs])),_:1},8,["class"]),c("div",fs,[(r(!0),n(d,null,u(o(q),(e=>(r(),f(x,{key:e.id,radius:"smooth",elevated:"",style:{"margin-top":"4%"}},{default:p((()=>[c("div",gs,[e?.user?.profilePhoto?(r(),f(k,{key:0,size:"large",squared:"",picture:`data:image/jpeg;base64,${e?.user?.profilePhoto?.photo}`,initials:`${e?.user?.userDetail?.lastName?.[0]}${e?.user?.userDetail?.firstName?.[0]}`},null,8,["picture","initials"])):m("",!0),c("div",_s,[c("h3",ks,v(`${e.user?.userDetail?.lastName} ${e.user?.userDetail?.firstName}`),1),c("div",ws,[(r(!0),n(d,null,u(e.userNote,(s=>(r(),n("i",{key:s,class:C(["iconify",s<=e.userNote?"has-text-warning":"has-text-grey"]),"data-icon":s<=e.userNote?"solar:star-bold":"solar:star-outline"},null,10,Ps)))),128))]),c("p",null,v(e.comment),1)])])])),_:2},1024)))),128))])]))],64)):"Journeys"===o(re)?(r(),n(d,{key:3},[o(ie)?(r(),n("div",bs,xs)):(r(),n("div",$s,[0===o(ve).length?(r(),f(w,{key:0,title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the filter terms you've entered. Please try different filter terms or criteria.",larger:""},{image:p((()=>[Ds,js])),_:1})):(r(),n("div",Cs,[c("div",Is,[Ss,Rs,Ns,As,Bs,"Driver"===o(ce)?(r(),n("div",Os," Profit ")):m("",!0)]),(r(!0),n(d,null,u(o(ve),(e=>(r(),n("div",{key:e.id,class:"is-list_line"},[c("div",Ts,[c("p",null,v(e?.departurePoint?.city??"City"),1),c("span",null,v(e?.departurePoint?.address??"Address"),1)]),c("div",Ms,[c("p",null,v(e?.destinationPoint?.city??"City"),1),c("span",null,v(e?.destinationPoint?.address??"Address"),1)]),c("div",Js,[c("span",null,v(o(L).fromISO(e.travelingDate).toFormat("dd/MM/yy, hh:mm a")),1)]),c("div",Us,[c("p",null,v(e.listOfReservations?.length??0)+" / "+v(e.avalableSeets),1)]),c("div",Vs,[c("b",zs,v(o(O)(e.amountPerSeet)),1)]),"Driver"===o(ce)?(r(),n("div",Es,[y($,{style:{width:"fit-content","line-height":"1.6",display:"flex"},color:"success"},{default:p((()=>[c("b",Ls,v(e.listOfReservations?o(O)(e.listOfReservations?.filter((e=>"1"==e.isCanceled)).reduce(((e,s)=>e+s.totalAmount),0)):o(O)(0)),1)])),_:2},1024)])):m("",!0)])))),128))])),y(j,{"current-page":o(ue).page,"onUpdate:currentPage":[l[1]||(l[1]=e=>o(ue).page=e),ei],"item-per-page":o(ue).itemsPerPage,"total-items":o(ue).totalItems,"max-links-displayed":7,"no-router":""},null,8,["current-page","item-per-page","total-items"])]))],64)):"Referals"===o(re)?(r(),n(d,{key:4},[o(ie)?(r(),n("div",Fs,Ws)):(r(),n("div",Gs,[y(w,{class:C([0!==o(H).length&&"is-hidden"]),title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the search terms you've entered. Please try different search terms or criteria.",larger:""},{image:p((()=>[qs,Hs])),_:1},8,["class"])]))],64)):"Rewards"===o(re)?(r(),n(d,{key:5},[o(ie)?(r(),n("div",Qs,Xs)):(r(),n("div",Ks,[y(w,{class:C([0!==o(Q).length&&"is-hidden"]),title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the search terms you've entered. Please try different search terms or criteria.",larger:""},{image:p((()=>[Ys,Zs])),_:1},8,["class"])]))],64)):"Payments"===o(re)?(r(),n(d,{key:6},[o(ie)?(r(),n("div",ea,sa)):(r(),n("div",aa,[y(w,{class:C([0!==o(W).length&&"is-hidden"]),title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the search terms you've entered. Please try different search terms or criteria.",larger:""},{image:p((()=>[ia,ta])),_:1},8,["class"]),c("div",la,[(r(!0),n(d,null,u(o(W),(e=>(r(),n("div",{key:e.id,class:"is-payout_card"},[c("div",ra,[c("div",na,[c("h3",null,v(Ya(e)),1),y($,{size:"tiny",color:e.isPaid?"success":"danger"},{default:p((()=>[h(v(e.isPaid?"Paid":"Pending"),1)])),_:2},1032,["color"])]),c("div",ca,[c("h3",oa,v(o(T)(e.amountPaid,e.nomberOfSeats)),1),da])]),c("div",ua,[c("div",ma,[va,(r(!0),n(d,null,u(e.trip,(e=>(r(),n("div",{key:e.id,class:"is-dest_details"},[c("h4",null,v(e?.departurePoint?.city??"City"),1),c("span",null,v(e?.departurePoint?.address),1)])))),128))]),c("div",ya,[pa,(r(!0),n(d,null,u(e.trip,(e=>(r(),n("div",{key:e.id,class:"is-dest_details"},[c("h4",null,v(e?.destinationPoint?.city??"City"),1),c("span",null,v(e?.destinationPoint?.address),1)])))),128))]),ha]),c("div",fa,[ga,c("span",_a,v(ii(e.dateOfTransaction)),1)])])))),128))])]))],64)):"Payout's"===o(re)?(r(),n(d,{key:7},[o(ie)?(r(),n("div",ka,wa)):(r(),n("div",Pa,[y(w,{class:C([0!==o(G).length&&"is-hidden"]),title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the search terms you've entered. Please try different search terms or criteria.",larger:""},{image:p((()=>[ba,xa])),_:1},8,["class"]),c("div",$a,[(r(!0),n(d,null,u(o(G),(e=>(r(),n("div",{key:e.id,class:"is-payout_card"},[c("div",Da,[c("div",ja,[c("h3",null,v(Ya(e)),1),y($,{size:"tiny",color:e.isPaid?"success":"danger"},{default:p((()=>[h(v(e.isPaid?"Paid":"Pending"),1)])),_:2},1032,["color"])]),c("div",Ca,[c("h3",Ia,v(Pe(e.trip)),1),Sa])]),c("div",Ra,[c("div",Na,[Aa,(r(!0),n(d,null,u(e.trip,(e=>(r(),n("div",{key:e.id,class:"is-dest_details"},[c("h4",null,v(e?.departurePoint?.city??"City"),1),c("span",null,v(e?.departurePoint?.address),1)])))),128))]),c("div",Ba,[Oa,(r(!0),n(d,null,u(e.trip,(e=>(r(),n("div",{key:e.id,class:"is-dest_details"},[c("h4",null,v(e?.destinationPoint?.city??"City"),1),c("span",null,v(e?.destinationPoint?.address),1)])))),128))]),Ta]),c("div",Ma,[Ja,c("span",Ua,v(ii(e.dateOfTransaction)),1)])])))),128))])]))],64)):"Banking"===o(re)?(r(),n("div",Va,[0===o(K).length?(r(),f(w,{key:0,title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n              filter terms you've entered. Please try different filter terms or\n              criteria.",larger:""},{image:p((()=>[za,Ea])),_:1})):(r(),n("div",La,[Fa,c("div",Wa,[c("div",Ga,[c("div",qa,[c("h3",null,v(`${o(K).lastName} ${o(K).firstName}`),1),c("p",null,v(o(K).email),1),c("p",Ha,v(o(K).telNum),1)])]),c("div",Qa,[c("p",null,v(o(K).address),1),c("p",null,v(o(K).city)+v(o(K).province?` - ${o(K).province}`:"")+v(o(K).postalCode?`, ${o(K).postalCode}`:""),1),c("p",null,v(o(K).country),1)]),c("div",Xa,[c("p",null,"Account: "+v(o(K).accountsNumber),1),c("p",null," Branch: "+v(`${o(K).etablismentNumber} - ${o(K).transitNumber}`),1)]),c("div",Ka,[c("p",null,v(o(L).fromISO(o(K).creationDate).toFormat("dd/MM/yy")),1),c("p",null,[c("small",null,[c("b",null,v(o(L).fromISO(o(K).creationDate).toFormat("hh:mm a")),1)])])])])]))])):m("",!0)])])])),_:1},8,["active"])])])}}});"function"==typeof F&&F(Ya);const Za=I(Ya,[["__scopeId","data-v-1d19a677"]]);export{Za as default};
