import{_ as a}from"./VFlex.vue_vue_type_style_index_0_lang-B3O-4R9P.js";import{e,O as t,E as n,Q as i,G as r,t as l,J as o,I as s,x as c,M as u,H as p,L as g,A as d,m as v,P as f,K as h,v as y,z as m,S as k,y as x,R as P}from"./index-DS7wE-jD.js";const _={class:"pagination-list"},b={key:0},K=[c("span",{class:"pagination-ellipsis"},"…",-1)],M={key:1},w=[c("span",{class:"pagination-ellipsis"},"…",-1)],C={key:2},L=c("i",{"aria-hidden":"true",class:"iconify rtl-hidden","data-icon":"feather:chevron-left"},null,-1),R=c("i",{"aria-hidden":"true",class:"iconify ltr-hidden","data-icon":"feather:chevron-right"},null,-1),j=c("i",{"aria-hidden":"true",class:"iconify rtl-hidden","data-icon":"feather:chevron-right"},null,-1),D=c("i",{"aria-hidden":"true",class:"iconify ltr-hidden","data-icon":"feather:chevron-left"},null,-1),Q=e({__name:"VFlexPagination",props:{itemPerPage:{},totalItems:{},currentPage:{default:1},maxLinksDisplayed:{default:4},noRouter:{type:Boolean},routerQueryKey:{default:"page"}},emits:["update:currentPage"],setup(e,{emit:Q}){const $=Q,I=e,{t:q}=t(),F=n(),V=i((()=>Math.ceil(I.totalItems/I.itemPerPage)||1)),z=i((()=>V.value>I.maxLinksDisplayed+2?I.maxLinksDisplayed+2:V.value)),A=i((()=>{const a=[];let e=I.currentPage-Math.floor(z.value/2),t=e+(z.value-Math.ceil(z.value%2));e<1&&(e=1,t=e+(z.value-1)),t>V.value&&(t=V.value,e=t-(z.value-1));for(let n=e;n<=t;n+=1)n!==e&&n!==t&&a.push(n);return a})),B=i((()=>V.value>1)),E=(a=1)=>{if(I.noRouter)return{};const e=Math.max(1,Math.min(a,V.value)),t={...F.query};return I.routerQueryKey&&(t[I.routerQueryKey]=e<=1?void 0:e),{name:F.name,params:F.params,query:t}},G=(a,e=1)=>{const t=Math.max(1,Math.min(e,V.value));if($("update:currentPage",t),I.noRouter)return a.preventDefault(),a.stopPropagation(),!1};return(e,t)=>{const n=r("RouterLink"),i=a;return l(),o(i,{role:"navigation",class:"flex-pagination pagination is-rounded","aria-label":"pagination","justify-content":"space-between"},{default:s((()=>[c("ul",_,[u(e.$slots,"before-pagination"),c("li",null,[p(n,{to:E(1),tabindex:"0",class:d(["pagination-link",[1===e.currentPage&&"is-current"]]),"aria-label":v(q)("components.v-flex-pagination.goto-page-title",{page:1}),onKeydown:t[0]||(t[0]=f(h((a=>a.target.click()),["prevent"]),["space"])),onClick:t[1]||(t[1]=a=>G(a,1))},{default:s((()=>[g(" 1 ")])),_:1},8,["to","aria-label","class"])]),v(B)&&(0===v(A).length||v(A)[0]>2)?(l(),y("li",b,K)):m("",!0),(l(!0),y(P,null,k(v(A),(a=>(l(),y("li",{key:a},[p(n,{to:E(a),tabindex:"0",class:d(["pagination-link",[e.currentPage===a&&"is-current"]]),"aria-label":v(q)("components.v-flex-pagination.goto-page-title",{page:a}),"aria-current":e.currentPage===a?"page":void 0,onKeydown:t[2]||(t[2]=f(h((a=>a.target.click()),["prevent"]),["space"])),onClick:e=>G(e,a)},{default:s((()=>[g(x(a),1)])),_:2},1032,["to","aria-label","aria-current","class","onClick"])])))),128)),v(B)&&v(A)[v(A).length-1]<v(V)-1?(l(),y("li",M,w)):m("",!0),v(B)?(l(),y("li",C,[p(n,{to:E(v(V)),tabindex:"0",class:d(["pagination-link",[e.currentPage===v(V)&&"is-current"]]),"aria-label":v(q)("components.v-flex-pagination.goto-page-title",{page:v(V)}),onKeydown:t[3]||(t[3]=f(h((a=>a.target.click()),["prevent"]),["space"])),onClick:t[4]||(t[4]=a=>G(a,v(V)))},{default:s((()=>[g(x(v(V)),1)])),_:1},8,["to","aria-label","class"])])):m("",!0),u(e.$slots,"after-pagination")]),u(e.$slots,"before-navigation"),p(n,{to:E(e.currentPage-1),tabindex:"0",class:"pagination-previous has-chevron",onKeydown:t[5]||(t[5]=f(h((a=>a.target.click()),["prevent"]),["space"])),onClick:t[6]||(t[6]=a=>G(a,e.currentPage-1))},{default:s((()=>[L,R])),_:1},8,["to"]),p(n,{to:E(e.currentPage+1),tabindex:"0",class:"pagination-next has-chevron",onKeydown:t[7]||(t[7]=f(h((a=>a.target.click()),["prevent"]),["space"])),onClick:t[8]||(t[8]=a=>G(a,e.currentPage+1))},{default:s((()=>[j,D])),_:1},8,["to"]),u(e.$slots,"after-navigation")])),_:3})}}});export{Q as _};
