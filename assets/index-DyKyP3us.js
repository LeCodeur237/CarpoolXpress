import{_ as e}from"./VModal.vue_vue_type_style_index_0_lang-BxprIClF.js";import{_ as t}from"./VLoader.vue_vue_type_style_index_0_lang-z6CWX0dI.js";import{_ as i}from"./VFlexPagination.vue_vue_type_script_setup_true_lang-DRRY7dtM.js";import{_ as s}from"./VTags.vue_vue_type_script_setup_true_lang-BS0u4dJP.js";import{_ as a}from"./VTag.vue_vue_type_style_index_0_lang-EAZmVvoA.js";import{_ as l}from"./VIconButton-D-6bh6HX.js";import{_ as r}from"./VAvatar.vue_vue_type_style_index_0_lang-DpyihaF2.js";import{_ as o}from"./VPlaceholderPage.vue_vue_type_style_index_0_lang-B_FLCEd8.js";import{_ as c}from"./VButton.vue_vue_type_style_index_0_lang-BOJu42_j.js";import{e as n,E as d,r as u,w as m,o as v,t as p,v as g,x as y,A as f,m as _,H as h,I as b,J as k,j as w,z as x,a5 as j,L as A,a6 as D,R as P,S as $,y as C,a1 as N,a2 as I}from"./index-DCVzCXGO.js";import{_ as V,a as M}from"./search-1-dark-DV4mRi9_.js";import{u as U}from"./viewWrapper-B2fmsTqy.js";import{u as S}from"./defaultResource-BKcbMEp6.js";import{D as q}from"./datetime-xmklhC0O.js";import{u as z}from"./useNotyf-1WfirvEN.js";import{b as F}from"./route-block-B_A1xBdJ.js";import{_ as L}from"./_plugin-vue_export-helper-BCo6x5W8.js";import"./useFetch-DTVXwznz.js";import"./notyf-CueL1e6X.js";const T=e=>(N("data-v-4c2608d0"),e=e(),I(),e),B={class:"list-view-toolbar"},E={class:"is-viewmode_toggler"},O=[T((()=>y("i",{class:"iconify","aria-hidden":"true","data-icon":"material-symbols-light:event-list-outline-rounded"},null,-1)))],R=[T((()=>y("i",{class:"iconify","aria-hidden":"true","data-icon":"material-symbols-light:grid-view-outline"},null,-1)))],W={class:"buttons"},G={class:"page-content-inner"},H={class:"card-grid card-grid-v3"},J=T((()=>y("img",{class:"light-image",src:V,alt:""},null,-1))),Y=T((()=>y("img",{class:"dark-image",src:M,alt:""},null,-1))),K={class:"card-grid-item"},Q={class:"dark-inverted"},X={class:"description"},Z={class:"light-text"},ee={class:"light-text"},te={class:"light-text mt-4"},ie={class:"is-flex gap-2 is-justify-content-center is-buttons"},se={key:1,class:"is-list_view"},ae=T((()=>y("div",{class:"is-list_header"},[y("div",{class:"is-list_header-item",style:{width:"35%"}}," # "),y("div",{class:"is-list_header-item",style:{width:"15%"}}," Contact "),y("div",{class:"is-list_header-item",style:{width:"10%"}}," Bio "),y("div",{class:"is-list_header-item",style:{width:"10%"}}," Statut "),y("div",{class:"is-list_header-item",style:{width:"30%"}})],-1))),le={class:"is-list_line"},re={class:"is-list_line-item is-user",style:{width:"35%"}},oe=["onClick"],ce={class:"is-user_metadata"},ne={class:"dark-inverted"},de={class:"is-list_line-item",style:{width:"15%"}},ue={class:"light-text"},me={class:"light-text"},ve={class:"is-list_line-item",style:{width:"10%"}},pe={class:"light-text mt-4"},ge={class:"is-list_line-item",style:{width:"10%"}},ye={class:"light-text mt-4"},fe={class:"is-list_line-item is-actions",style:{width:"30%"}},_e={class:"card-grid-item"},he={class:"dark-inverted"},be={class:"description"},ke={class:"light-text"},we={class:"light-text"},xe={class:"light-text mt-4"},je={class:"is-flex gap-2 is-justify-content-center is-buttons"},Ae=n({__name:"index",setup(n){const N=U(),I=S(),V=d(),M=u(!1),F=u(!1),L=u(),T=u([]),Ae=z(),De=u("list"),Pe=u({page:1,itemsPerPage:6,totalItems:0,totalPages:0}),$e=async()=>{try{M.value=!0;const e=`/User/GetAllUsers?pageNumber=${Pe.value.page}&pageSize=${Pe.value.itemsPerPage}`,t=await I.list(e,!0);t&&Array.isArray(t.data)?(T.value=t.data,Pe.value.totalItems=t.total,Pe.value.totalPages=Math.ceil(t.total/Pe.value.itemsPerPage)):(T.value=[],Pe.value.totalItems=0,Pe.value.totalPages=0,Ae.warning("Could not fetch users or data format is incorrect."))}catch(e){console.error("An error has occurred: ",e)}finally{M.value=!1}},Ce=async(e,t)=>{if(e)try{await I.editStatut(`/User/UserActivation?userId=${e}&isActive=${t}`)?(Ae.success("User status updated successfully!"),await $e()):Ae.error("Failed to update user status. Please try again.")}catch(i){console.error("Error updating user status:",i);const e=i.response?.data?.message||i.message||"Unknown error";Ae.error(`Error updating status: ${e}`)}else Ae.error("Invalid User ID provided.")};return m((()=>V.query.page),(async e=>{e?(Pe.value.page=parseInt(e),await $e()):(Pe.value.page=1,await $e())}),{immediate:!0}),v((async()=>{N.setPageTitle("List of Carpoolers"),await $e()})),(n,d)=>{const u=c,m=o,v=r,N=l,I=a,V=s,U=i,S=t,z=e;return p(),g("div",null,[y("div",B,[y("div",E,[y("span",{class:f(["is-viewmode","list"===_(De)&&"is-active"]),onClick:d[0]||(d[0]=e=>De.value="list")},O,2),y("span",{class:f(["is-viewmode","grid"===_(De)&&"is-active"]),onClick:d[1]||(d[1]=e=>De.value="grid")},R,2)]),y("div",W,[h(u,{color:"primary",icon:"feather:refresh-ccw",elevated:""},{default:b((()=>[A(" Refresh ")])),_:1})])]),y("div",G,[h(S,{active:_(M)},{default:b((()=>[y("div",H,[h(m,{class:f([0!==_(T).length&&"is-hidden"]),title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n            search terms you've entered. Please try different search terms or\n            criteria.",larger:""},{image:b((()=>[J,Y])),_:1},8,["class"]),h(D,{name:"list",tag:"div",class:"columns is-multiline is-flex-tablet-p is-half-tablet-p"},{default:b((()=>["grid"===_(De)?(p(!0),g(P,{key:0},$(_(T),(e=>(p(),g("div",{key:e.id,class:"column is-4"},[y("div",K,[h(v,{size:"large",initials:`${e.userDetail?.lastName[0]}${e.userDetail?.firstName[0]}`,squared:""},null,8,["initials"]),y("h3",Q,C(`${e.userDetail?.lastName} ${e.userDetail?.firstName}`),1),y("p",null,[A(" Account created : "),y("b",null,C(_(q).fromISO(e.creationDate).toFormat("MMMM dd, yyyy hh:mm a")),1)]),y("div",X,[y("p",Z,C(e?.email),1),y("p",ee,C(e?.phoneNumber),1),y("em",te,[A(" I'm "),y("b",null,C(!0===e?.isCodeVerified?"a driver":"just a client"),1)])]),y("div",ie,[h(u,{color:"info",icon:"material-symbols-light:visibility-outline",elevated:"",to:`/app/carpoolers/${e.id}`},{default:b((()=>[A(" View Profile ")])),_:2},1032,["to"]),h(N,{style:{background:"var(--danger) !important",color:"#fff"},color:"danger",disabled:"",squared:"",icon:"material-symbols-light:restore-from-trash-outline"}),_(L).isActive?(p(),k(N,{key:0,icon:"lucide:circle-slash-2",color:"danger",title:"Deactivate profile",onClick:d[2]||(d[2]=e=>Ce(_(L).id,!1))})):x("",!0),_(L).isActive?x("",!0):(p(),k(N,{key:1,icon:"lucide:circle",color:"success",title:"Activate profile",onClick:d[3]||(d[3]=e=>Ce(_(L).id,!0))}))])])])))),128)):(p(),g("div",se,[ae,(p(!0),g(P,null,$(_(T),(e=>(p(),g("div",{key:e.id,class:""},[y("div",le,[y("div",re,[y("div",{style:{cursor:"pointer"},onClick:()=>{L.value=e,F.value=!0}},[h(v,{size:"large",initials:`${e.userDetail?.lastName[0]}${e.userDetail?.firstName[0]}`,badge:e.badge,squared:""},null,8,["initials","badge"])],8,oe),y("div",ce,[y("h3",ne,C(`${e.userDetail?.lastName} ${e.userDetail?.firstName}`),1),y("p",null,[A(" Account created : "),y("b",null,C(_(q).fromISO(e.creationDate).toFormat("MMMM dd, yyyy")),1)])])]),y("div",de,[y("p",ue,C(e?.email),1),y("p",me,C(e?.phoneNumber),1)]),y("div",ve,[y("em",pe,[A(" I'm "),y("b",null,C(!0===e?.isCodeVerified?"a driver":"just a client"),1)])]),y("div",ge,[y("em",ye,[h(V,null,{default:b((()=>[e.isActive?x("",!0):(p(),k(I,{key:0,color:"danger",label:"Desactived",rounded:""})),e.isActive?(p(),k(I,{key:1,color:"success",label:"Actived",rounded:""})):x("",!0)])),_:2},1024)])]),y("div",fe,[h(u,{color:"info",icon:"material-symbols-light:visibility-outline",elevated:"",to:`/app/carpoolers/${e.id}`},{default:b((()=>[A(" View Profile ")])),_:2},1032,["to"]),h(N,{style:{background:"var(--danger) !important",color:"#fff"},color:"danger",disabled:"",squared:"",icon:"material-symbols-light:restore-from-trash-outline"}),e.isActive?(p(),k(N,{key:0,icon:"lucide:circle-slash-2",color:"danger",title:"Deactivate profile",onClick:t=>Ce(e.id,!1)},null,8,["onClick"])):x("",!0),e.isActive?x("",!0):(p(),k(N,{key:1,icon:"lucide:circle",color:"success",title:"Activate profile",onClick:t=>Ce(e.id,!0)},null,8,["onClick"]))])])])))),128))]))])),_:1}),h(U,{"item-per-page":_(Pe)?.itemsPerPage,"total-items":_(Pe)?.totalItems,"current-page":_(Pe)?.page,"max-links-displayed":4},null,8,["item-per-page","total-items","current-page"])])])),_:1},8,["active"])]),(p(),k(j,{to:"body"},[_(F)?(p(),k(z,{key:0,open:_(F),"onUpdate:open":d[6]||(d[6]=e=>w(F)?F.value=e:null),title:"User Details",size:"medium",nobg:"",noheader:"",noaction:"",onClose:d[7]||(d[7]=()=>F.value=!1)},{content:b((()=>[y("div",_e,[h(v,{size:"big",initials:`${_(L).userDetail?.lastName[0]}${_(L).userDetail?.firstName[0]}`,badge:_(L).badge,squared:""},null,8,["initials","badge"]),y("h3",he,C(`${_(L).userDetail?.lastName} ${_(L).userDetail?.firstName}`),1),y("p",null,[A(" Account created : "),y("b",null,C(_(q).fromISO(_(L).creationDate).toFormat("MMMM dd, yyyy hh:mm a")),1)]),y("div",be,[y("p",ke,C(_(L)?.email),1),y("p",we,C(_(L)?.phoneNumber),1),y("em",xe,[A(" I'm "),y("b",null,C(!0===_(L)?.isCodeVerified?"a driver":"just a client"),1)])]),y("div",je,[h(u,{color:"info",icon:"material-symbols-light:visibility-outline",elevated:"",to:`/app/carpoolers/${_(L).id}`},{default:b((()=>[A(" View Profile ")])),_:1},8,["to"]),h(N,{style:{background:"var(--danger) !important",color:"#fff"},color:"danger",disabled:"",squared:"",icon:"material-symbols-light:restore-from-trash-outline"}),!0===_(L).isActive?(p(),k(N,{key:0,icon:"lucide:circle-slash-2",color:"danger",title:"Deactivate profile",onClick:d[4]||(d[4]=e=>Ce(_(L).id,!1))})):x("",!0),!0!==_(L).isActive?(p(),k(N,{key:1,icon:"lucide:circle",color:"success",title:"Activate profile",onClick:d[5]||(d[5]=e=>Ce(_(L).id,!0))})):x("",!0)])])])),action:b((()=>[])),_:1},8,["open"])):x("",!0)]))])}}});"function"==typeof F&&F(Ae);const De=L(Ae,[["__scopeId","data-v-4c2608d0"]]);export{De as default};
